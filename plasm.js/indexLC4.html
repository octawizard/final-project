<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>plasm.js</title>
  <link rel="stylesheet" href="styles/reset.css">
  <link rel="stylesheet" href="styles/style.css">
  <link rel="stylesheet" href="styles/md.css">
</head>
  <body>

  <header>
    <div id="plasm-bar">
      <a id="plasm-logo">
        <h1><span>Plasm.js</span><span class="plasm-alpha">&nbsp;&alpha;</span></h1>
      </a>
      <div id="plasm-navbar">
        <ul>
          <li><a href="https://github.com/cvdlab/plasm.js" id="plasm-link-github">github</a></li>
          <li><a id="plasm-link-documentation">docs</a></li>
          <li><a href="http://cvdlab.github.com/plasm.js/showcase.html" id="plasm-link-demo">showcase</a></li>
          <li><a id="plasm-link-about">about</a></li>
        </ul>
      </div>
    </div>
  </header>

  <div id="plasm"></div>
  <div id="loading">loadingâ€¦</div>

  <div id="plasm-container-about-wrapper">
    <div id="plasm-container-about" class="plasm-container">
      <div>
        <div id="plasm-about-logo"><span>Plasm.js</span><span class="plasm-alpha">&nbsp;&alpha;</span></div>
      </div>
      <div id="plasm-about-icon-close" class="icon-close"></div>
      <div id="plasm-copyright">
        <p>Plasm.js has been created at <a href="http://dia.uniroma3.it/~cvdlab">CVD Lab</a>, Computational Visual Design Laboratory at the university RomaTre, by Enrico Marino and Federico Spini under the supervision and guidance of <a href="http://paoluzzi.dia.uniroma3.it/">Alberto Paoluzzi</a>, creator of the original PLaSM.</p>
        <p>PLaSM is a functional Programming Language for Symbolic Modeling, based on a dimesion-indipendet geometric kernel.</p>
        <p>Copyright (c) 2012 <a href="https://github.com/onirame">Enrico Marino</a> and <a href="https://github.com/spini">Federico Spini</a> for <a href="http://dia.uniroma3.it/~cvdlab">CVD Lab</a>.</p>
      </div>
    </div>
  </div>

<!--   <div id="plasm-container-demo" class="plasm-container">
    <div id="plasm-container-demo-header">
      <div id="plasm-container-demo-header-back">Back</div>
      <div id="plasm-container-demo-header-title">Demo</div>
      <div id="plasm-container-demo-header-close">Close</div>
    </div>
    <div id="plasm-container-demo-tabs">
      <span>Villas</span>
      <span>Apple devices</span>
      <span>Airplains</span>
      <span>Objects</span>
      <span>Others</span>
    </div>
    <div id="plasm-container-demo-wrapper"></div>
  </div> -->


  <div id="plasm-container-documentation" class="plasm-container">
  <div id="plasm-documentation-icon-close" class="icon-close"></div>
<h3>
<a name="bezierselcontrolpoints" class="anchor" href="#bezierselcontrolpoints"><span class="mini-icon mini-icon-link"></span></a><code>BEZIER(sel)(controlpoints)</code>
</h3>

<p>Transfinite mapping function of genric degree Bezier curve.</p>

<h4>
<a name="io" class="anchor" href="#io"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in" class="anchor" href="#in"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Function</code> <code>selector</code>: domain coordinate selector function.</p>

<blockquote>
<h4>
<a name="in-1" class="anchor" href="#in-1"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>v</code>: point of the <code>domain</code>.</p>

<h4>
<a name="out" class="anchor" href="#out"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Number</code>: the selected coordinate. </p>
</blockquote>

<h4>
<a name="out-1" class="anchor" href="#out-1"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous function.</p>

<blockquote>
<h4>
<a name="in-2" class="anchor" href="#in-2"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>controlpoints</code>: an array of points and curve mapping functions describing curve control points.</p>

<h4>
<a name="out-2" class="anchor" href="#out-2"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous mapping function.</p>
</blockquote>
</blockquote>

<h4>
<a name="example" class="anchor" href="#example"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">domain</span> <span class="o">=</span> <span class="nx">INTERVALS</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">32</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">controlpoints</span> <span class="o">=</span> <span class="p">[[</span><span class="o">-</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">]];</span>
<span class="kd">var</span> <span class="nx">curveMapping</span> <span class="o">=</span> <span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S0</span><span class="p">)(</span><span class="nx">controlpoints</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">curve</span> <span class="o">=</span> <span class="nx">MAP</span><span class="p">(</span><span class="nx">curveMapping</span><span class="p">)(</span><span class="nx">domain</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">curve</span><span class="p">);</span>
</pre>
</div>


<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">domain</span> <span class="o">=</span> <span class="nx">PROD1x1</span><span class="p">([</span><span class="nx">INTERVALS</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">16</span><span class="p">),</span><span class="nx">INTERVALS</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">16</span><span class="p">)]);</span>
<span class="kd">var</span> <span class="nx">c0</span> <span class="o">=</span> <span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S0</span><span class="p">)([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">c1</span> <span class="o">=</span> <span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S0</span><span class="p">)([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">8</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">9</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">c2</span> <span class="o">=</span> <span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S0</span><span class="p">)([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">12</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">c3</span> <span class="o">=</span> <span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S0</span><span class="p">)([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">9</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">out</span> <span class="o">=</span> <span class="nx">MAP</span><span class="p">(</span><span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S1</span><span class="p">)([</span><span class="nx">c0</span><span class="p">,</span><span class="nx">c1</span><span class="p">,</span><span class="nx">c2</span><span class="p">,</span><span class="nx">c3</span><span class="p">]))(</span><span class="nx">domain</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">out</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="boundarydmodel" class="anchor" href="#boundarydmodel"><span class="mini-icon mini-icon-link"></span></a><code>BOUNDARY(d)(model)</code>
</h3>

<p>Get the <code>d</code>-boundary of the <code>model</code>.</p>

<h4>
<a name="io-1" class="anchor" href="#io-1"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-3" class="anchor" href="#in-3"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Number</code> <code>d</code>: space dimension.</p>

<h4>
<a name="out-3" class="anchor" href="#out-3"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code>: the <code>d</code>-boundary of the <code>model</code>.</p>
</blockquote>

<h4>
<a name="example-1" class="anchor" href="#example-1"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">model</span> <span class="o">=</span> <span class="nx">TORUS_SURFACE</span><span class="p">()();</span>
<span class="kd">var</span> <span class="nx">boundary</span> <span class="o">=</span> <span class="nx">BOUNDARY</span><span class="p">(</span><span class="nx">d</span><span class="p">)(</span><span class="nx">model</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">boundary</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="cancelobject" class="anchor" href="#cancelobject"><span class="mini-icon mini-icon-link"></span></a><code>CANCEL(object)</code>
</h3>

<p>Remove the <code>object</code> from the scene graph.</p>

<h4>
<a name="io-2" class="anchor" href="#io-2"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-4" class="anchor" href="#in-4"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>plasm.Model</code> or <code>plasm.Struct</code> <code>object</code>: the object to cancel.</p>

<h4>
<a name="out-4" class="anchor" href="#out-4"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code> or <code>plasm.Struct</code> <code>object</code>: the cancelled object.</p>
</blockquote>

<h4>
<a name="example-2" class="anchor" href="#example-2"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">model</span> <span class="o">=</span> <span class="nx">TORUS_SURFACE</span><span class="p">()();</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">model</span><span class="p">);</span>
<span class="nx">CANCEL</span><span class="p">(</span><span class="nx">model</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="circlerdivs" class="anchor" href="#circlerdivs"><span class="mini-icon mini-icon-link"></span></a><code>CIRCLE(r)(divs)</code>
</h3>

<p>Create a circle with radius <code>r</code>, approximated by <code>divs</code> segments.</p>

<h4>
<a name="io-3" class="anchor" href="#io-3"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-5" class="anchor" href="#in-5"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Number</code> <code>r</code>: the radius of the circle.</p>

<h4>
<a name="out-5" class="anchor" href="#out-5"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous function.</p>

<blockquote>
<h4>
<a name="in-6" class="anchor" href="#in-6"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Number</code> <code>divs</code>: the number of segments that approximate the circle.</p>

<h4>
<a name="out-6" class="anchor" href="#out-6"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code>: the circle with radius <code>r</code>, approximated by <code>divs</code> segments.</p>
</blockquote>
</blockquote>

<h4>
<a name="example-3" class="anchor" href="#example-3"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="mf">1.5</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">divs</span> <span class="o">=</span> <span class="mi">32</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">circle</span> <span class="o">=</span> <span class="nx">CIRCLE</span><span class="p">(</span><span class="nx">r</span><span class="p">)(</span><span class="nx">divs</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">circle</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="cylindrical_surfaceprofilevector" class="anchor" href="#cylindrical_surfaceprofilevector"><span class="mini-icon mini-icon-link"></span></a><code>CYLINDRICAL_SURFACE(profile)(vector)</code>
</h3>

<p>Create a specific ruled surface S called cylindrical where the direction of the lines is given by the <code>vector</code> with constant components that is non complanar with the section curve (<code>profile</code>).
The <code>profile</code> curve can be a known profile function, like <code>BEZIER</code>, or a custom one.</p>

<h4>
<a name="io-4" class="anchor" href="#io-4"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-7" class="anchor" href="#in-7"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Function</code> <code>profile</code>: mapping <code>Function</code> of the profile curve.</p>

<h4>
<a name="out-7" class="anchor" href="#out-7"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous function.</p>

<blockquote>
<h4>
<a name="in-8" class="anchor" href="#in-8"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>vector</code>: an array of vector costant components.</p>

<h4>
<a name="out-8" class="anchor" href="#out-8"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: mapping of the profile of the cylindrical surface.</p>
</blockquote>
</blockquote>

<h4>
<a name="example-4" class="anchor" href="#example-4"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">domain</span> <span class="o">=</span> <span class="nx">PROD1x1</span><span class="p">([</span><span class="nx">INTERVALS</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">20</span><span class="p">),</span><span class="nx">INTERVALS</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">6</span><span class="p">)]);</span>
<span class="kd">var</span> <span class="nx">ncpVector</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">funProfile</span> <span class="o">=</span> <span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S0</span><span class="p">)([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">out</span> <span class="o">=</span> <span class="nx">MAP</span><span class="p">(</span><span class="nx">CYLINDRICAL_SURFACE</span><span class="p">(</span><span class="nx">funProfile</span><span class="p">)(</span><span class="nx">ncpVector</span><span class="p">))(</span><span class="nx">domain</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">out</span><span class="p">);</span> 
</pre>
</div>

</blockquote>

<hr><h3>
<a name="colorcolorobject" class="anchor" href="#colorcolorobject"><span class="mini-icon mini-icon-link"></span></a><code>COLOR(color)(object)</code>
</h3>

<p>Clone <code>object</code> and color cloned object with <code>color</code>.</p>

<h4>
<a name="io-5" class="anchor" href="#io-5"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-9" class="anchor" href="#in-9"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>color</code>: rgba color components (from <code>0</code> to <code>1</code>).</p>

<ul>
<li>
<code>Number</code> <code>r</code>: red component (from <code>0</code> to <code>1</code>, <code>0</code> by default).</li>
<li>
<code>Number</code> <code>g</code>: green component (from <code>0</code> to <code>1</code>, <code>0</code> by default).</li>
<li>
<code>Number</code> <code>b</code>: blue component (from <code>0</code> to <code>1</code>, <code>0</code> by default).</li>
<li>
<code>Number</code> <code>a</code>: alpha component (from <code>0</code> to <code>1</code>, <code>1</code> by default).</li>
</ul>
<h4>
<a name="out-9" class="anchor" href="#out-9"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous function.</p>

<blockquote>
<h4>
<a name="in-10" class="anchor" href="#in-10"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>plasm.Model</code> or <code>plasm.Struct</code> <code>object</code>: the object to color.</p>

<h4>
<a name="out-10" class="anchor" href="#out-10"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code> or <code>plasm.Struct</code>: the cloned colored object. </p>
</blockquote>
</blockquote>

<h4>
<a name="example-5" class="anchor" href="#example-5"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">color</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">model</span> <span class="o">=</span> <span class="nx">TORUS_SURFACE</span><span class="p">()();</span>
<span class="kd">var</span> <span class="nx">coloredModel</span> <span class="o">=</span> <span class="nx">COLOR</span><span class="p">(</span><span class="nx">color</span><span class="p">)(</span><span class="nx">model</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">coloredModel</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="conical_surfaceapexprofile" class="anchor" href="#conical_surfaceapexprofile"><span class="mini-icon mini-icon-link"></span></a><code>CONICAL_SURFACE(apex)(profile)</code>
</h3>

<p>Create a conical surface S between a vertex (<code>apex</code>) and a <code>profile</code> curve.
The curve can be a known profile function, like <code>BEZIER</code>, or a custom one.</p>

<h4>
<a name="io-6" class="anchor" href="#io-6"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-11" class="anchor" href="#in-11"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>apex</code>: the cone's vertex (an array of coordinates).</p>

<h4>
<a name="out-11" class="anchor" href="#out-11"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous function.</p>

<blockquote>
<h4>
<a name="in-12" class="anchor" href="#in-12"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Function</code> <code>profile</code>: mapping <code>Function</code> of the profile curve.</p>

<h4>
<a name="out-12" class="anchor" href="#out-12"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: mapping of the profile of the conical surface.</p>
</blockquote>
</blockquote>

<h4>
<a name="example-6" class="anchor" href="#example-6"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">domain</span> <span class="o">=</span> <span class="nx">PROD1x1</span><span class="p">([</span><span class="nx">INTERVALS</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">20</span><span class="p">),</span><span class="nx">INTERVALS</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">6</span><span class="p">)]);</span>
<span class="kd">var</span> <span class="nx">apex</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">funProfile</span> <span class="o">=</span> <span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S0</span><span class="p">)([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">out</span> <span class="o">=</span> <span class="nx">MAP</span><span class="p">(</span><span class="nx">CONICAL_SURFACE</span><span class="p">(</span><span class="nx">apex</span><span class="p">)(</span><span class="nx">funProfile</span><span class="p">))(</span><span class="nx">domain</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">out</span><span class="p">);</span> 
</pre>
</div>

</blockquote>

<hr><h3>
<a name="coons_patchcontrolpoints" class="anchor" href="#coons_patchcontrolpoints"><span class="mini-icon mini-icon-link"></span></a><code>COONS_PATCH(controlpoints)</code>
</h3>

<p>Mapping function of a Coons Patch.</p>

<h4>
<a name="io-7" class="anchor" href="#io-7"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-13" class="anchor" href="#in-13"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>controlcurves</code>: an array of curves mapping functions describing surface's boundaries</p>

<h4>
<a name="out-13" class="anchor" href="#out-13"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous mapping function.</p>
</blockquote>

<h4>
<a name="example-7" class="anchor" href="#example-7"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">dom1D</span> <span class="o">=</span> <span class="nx">INTERVALS</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">32</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">dom2D</span> <span class="o">=</span> <span class="nx">PROD1x1</span><span class="p">([</span><span class="nx">INTERVALS</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">16</span><span class="p">),</span><span class="nx">INTERVALS</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">16</span><span class="p">)]);</span>

<span class="kd">var</span> <span class="nx">Su0</span> <span class="o">=</span> <span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S0</span><span class="p">)([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">curve0</span> <span class="o">=</span> <span class="nx">MAP</span><span class="p">(</span><span class="nx">Su0</span><span class="p">)(</span><span class="nx">dom1D</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">curve0</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">Su1</span> <span class="o">=</span> <span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S0</span><span class="p">)([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">],[</span><span class="mf">7.5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">curve1</span> <span class="o">=</span> <span class="nx">MAP</span><span class="p">(</span><span class="nx">Su1</span><span class="p">)(</span><span class="nx">dom1D</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">curve1</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">control2</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">]];</span>
<span class="kd">var</span> <span class="nx">Sv0</span> <span class="o">=</span> <span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S1</span><span class="p">)(</span><span class="nx">control2</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">curve2</span> <span class="o">=</span> <span class="nx">MAP</span><span class="p">(</span><span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S0</span><span class="p">)(</span><span class="nx">control2</span><span class="p">))(</span><span class="nx">dom1D</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">curve2</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">control3</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">]];</span>
<span class="kd">var</span> <span class="nx">Sv1</span> <span class="o">=</span> <span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S1</span><span class="p">)(</span><span class="nx">control3</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">curve3</span> <span class="o">=</span> <span class="nx">MAP</span><span class="p">(</span> <span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S0</span><span class="p">)(</span><span class="nx">control3</span><span class="p">))(</span><span class="nx">dom1D</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">curve3</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">out</span> <span class="o">=</span> <span class="nx">MAP</span><span class="p">(</span><span class="nx">COONS_PATCH</span><span class="p">([</span><span class="nx">Su0</span><span class="p">,</span><span class="nx">Su1</span><span class="p">,</span><span class="nx">Sv0</span><span class="p">,</span><span class="nx">Sv1</span><span class="p">]))(</span><span class="nx">dom2D</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">out</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="cubedim" class="anchor" href="#cubedim"><span class="mini-icon mini-icon-link"></span></a><code>CUBE(dim)</code>
</h3>

<p>Create a <code>dim</code>-dimensional cube.</p>

<h4>
<a name="io-8" class="anchor" href="#io-8"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-14" class="anchor" href="#in-14"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Number</code> <code>dim</code>: dimension of the cube.</p>

<h4>
<a name="out-14" class="anchor" href="#out-14"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code>: a cube with <code>dim</code> dimension.</p>
</blockquote>

<h4>
<a name="example-8" class="anchor" href="#example-8"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">dim</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">cube</span> <span class="o">=</span> <span class="nx">CUBE</span><span class="p">(</span><span class="nx">dim</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">cube</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="cubic_cardinaldomain" class="anchor" href="#cubic_cardinaldomain"><span class="mini-icon mini-icon-link"></span></a><code>CUBIC_CARDINAL(domain)</code>
</h3>

<p>Tranfinite Cubic cardinal splines curve generator function on <code>domain</code>.</p>

<h4>
<a name="io-9" class="anchor" href="#io-9"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-15" class="anchor" href="#in-15"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>plasm.Model</code> <code>domain</code>: domain of the generator function.</p>

<h4>
<a name="out-15" class="anchor" href="#out-15"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous function.</p>

<blockquote>
<h4>
<a name="in-16" class="anchor" href="#in-16"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>controlpoints</code>: an array of points and curve mapping functions describing curve control points.</p>

<h4>
<a name="out-16" class="anchor" href="#out-16"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code>: a spline segment.</p>
</blockquote>
</blockquote>

<h4>
<a name="example-9" class="anchor" href="#example-9"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">domain</span> <span class="o">=</span> <span class="nx">INTERVALS</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">20</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">controlpoints</span> <span class="o">=</span> <span class="p">[[</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">1.5</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">]];</span>
<span class="kd">var</span> <span class="nx">splineCardinal</span> <span class="o">=</span> <span class="nx">SPLINE</span><span class="p">(</span><span class="nx">CUBIC_CARDINAL</span><span class="p">(</span><span class="nx">domain</span><span class="p">))(</span><span class="nx">controlpoints</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">splineCardinal</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="cubic_hermiteselectorcontrolpoints" class="anchor" href="#cubic_hermiteselectorcontrolpoints"><span class="mini-icon mini-icon-link"></span></a><code>CUBIC_HERMITE(selector)(controlpoints)</code>
</h3>

<p>Transfinite mapping function of cubic Hermite curve.</p>

<h4>
<a name="io-10" class="anchor" href="#io-10"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-17" class="anchor" href="#in-17"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Function</code> <code>selector</code>: domain coordinate selector function.</p>

<blockquote>
<h4>
<a name="in-18" class="anchor" href="#in-18"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>v</code>: point of the <code>domain</code>.</p>

<h4>
<a name="out-17" class="anchor" href="#out-17"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Number</code>: the selected coordinate. </p>
</blockquote>

<h4>
<a name="out-18" class="anchor" href="#out-18"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous function.</p>

<blockquote>
<h4>
<a name="in-19" class="anchor" href="#in-19"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>controlpoints</code>: an array of points and curve mapping functions describing curve control points.</p>

<h4>
<a name="out-19" class="anchor" href="#out-19"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous mapping function.</p>
</blockquote>
</blockquote>

<h4>
<a name="example-10" class="anchor" href="#example-10"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">domain</span> <span class="o">=</span> <span class="nx">INTERVALS</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">20</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">controlpoints</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],[</span> <span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]];</span>
<span class="kd">var</span> <span class="nx">curveMapping</span> <span class="o">=</span> <span class="nx">CUBIC_HERMITE</span><span class="p">(</span><span class="nx">S0</span><span class="p">)(</span><span class="nx">controlpoints</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">curve</span> <span class="o">=</span> <span class="nx">MAP</span><span class="p">(</span><span class="nx">curveMapping</span><span class="p">)(</span><span class="nx">domain</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">curve</span><span class="p">);</span>
</pre>
</div>


<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">domain</span> <span class="o">=</span> <span class="nx">PROD1x1</span><span class="p">([</span><span class="nx">INTERVALS</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">14</span><span class="p">),</span><span class="nx">INTERVALS</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">14</span><span class="p">)]);</span>
<span class="kd">var</span> <span class="nx">c1</span> <span class="o">=</span> <span class="nx">CUBIC_HERMITE</span><span class="p">(</span><span class="nx">S0</span><span class="p">)([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">c2</span> <span class="o">=</span> <span class="nx">CUBIC_HERMITE</span><span class="p">(</span><span class="nx">S0</span><span class="p">)([[</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">sur3</span> <span class="o">=</span> <span class="nx">CUBIC_HERMITE</span><span class="p">(</span><span class="nx">S1</span><span class="p">)([</span><span class="nx">c1</span><span class="p">,</span><span class="nx">c2</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">out</span> <span class="o">=</span> <span class="nx">MAP</span><span class="p">(</span><span class="nx">sur3</span><span class="p">)(</span><span class="nx">domain</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">out</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="cubic_ubsplinedomain" class="anchor" href="#cubic_ubsplinedomain"><span class="mini-icon mini-icon-link"></span></a><code>CUBIC_UBSPLINE(domain)</code>
</h3>

<p>Tranfinite cubic uniform B-splines curve generator function on <code>domain</code>.</p>

<h4>
<a name="io-11" class="anchor" href="#io-11"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-20" class="anchor" href="#in-20"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>plasm.Model</code> <code>domain</code>: domain of the generator function.</p>

<h4>
<a name="out-20" class="anchor" href="#out-20"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous function.</p>

<blockquote>
<h4>
<a name="in-21" class="anchor" href="#in-21"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>controlpoints</code>: an array of points and curve mapping functions describing curve control points.</p>

<h4>
<a name="out-21" class="anchor" href="#out-21"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code>: a spline segment.</p>
</blockquote>
</blockquote>

<h4>
<a name="example-11" class="anchor" href="#example-11"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">domain</span> <span class="o">=</span> <span class="nx">INTERVALS</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">20</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">controlpoints</span> <span class="o">=</span> <span class="p">[[</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">1.5</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">]];</span>
<span class="kd">var</span> <span class="nx">splineCubic</span> <span class="o">=</span> <span class="nx">SPLINE</span><span class="p">(</span><span class="nx">CUBIC_UBSPLINE</span><span class="p">(</span><span class="nx">domain</span><span class="p">))(</span><span class="nx">controlpoints</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">splineCubic</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="cuboiddims" class="anchor" href="#cuboiddims"><span class="mini-icon mini-icon-link"></span></a><code>CUBOID(dims)</code>
</h3>

<p>Create a cuboidal simplicial complex with dimensions <code>[dx, dy, dz, ...]</code>.</p>

<h4>
<a name="io-12" class="anchor" href="#io-12"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-22" class="anchor" href="#in-22"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>dims</code>: sides length for each dimension of the simplicial complex.</p>

<ul>
<li>
<code>Number</code> <code>dx</code>: dimension along x axe</li>
<li>
<code>Number</code> <code>dy</code>: dimension along y axe</li>
<li>
<code>Number</code> <code>dz</code>: dimension along z axe</li>
<li>...</li>
</ul>
<h4>
<a name="out-22" class="anchor" href="#out-22"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code>: a cuboidal simplicial complex with dimensions <code>[dx, dy, dz, ...]</code>.</p>
</blockquote>

<h4>
<a name="example-12" class="anchor" href="#example-12"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">dx</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">dy</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">dz</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">cuboid1</span> <span class="o">=</span> <span class="nx">CUBOID</span><span class="p">([</span><span class="nx">dx</span><span class="p">]);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">cuboid1</span><span class="p">);</span>
</pre>
</div>


<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">cuboid2</span> <span class="o">=</span> <span class="nx">CUBOID</span><span class="p">([</span><span class="nx">dx</span><span class="p">,</span> <span class="nx">dy</span><span class="p">]);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">cuboid2</span><span class="p">);</span>
</pre>
</div>


<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">cuboid3</span> <span class="o">=</span> <span class="nx">CUBOID</span><span class="p">([</span><span class="nx">dx</span><span class="p">,</span> <span class="nx">dy</span><span class="p">,</span> <span class="nx">dz</span><span class="p">]);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">cuboid3</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="cyl_surfacedimsdivs" class="anchor" href="#cyl_surfacedimsdivs"><span class="mini-icon mini-icon-link"></span></a><code>CYL_SURFACE(dims)(divs)</code>
</h3>

<p>Create a cylindrical surface.</p>

<h4>
<a name="io-13" class="anchor" href="#io-13"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-23" class="anchor" href="#in-23"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>dims</code>: dimensions <code>[r, h]</code>.</p>

<ul>
<li>
<code>Number</code> <code>r</code>: the radius (<code>1</code> by default).</li>
<li>
<code>Number</code> <code>h</code>: the height (<code>1</code> by default).</li>
</ul>
<h4>
<a name="out-23" class="anchor" href="#out-23"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous function.</p>

<blockquote>
<h4>
<a name="in-24" class="anchor" href="#in-24"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>divs</code>: divisions <code>[slices, stacks]</code>.</p>

<ul>
<li>
<code>Number</code> <code>slices</code>: slices (<code>16</code> by default).</li>
<li>
<code>Number</code> <code>stacks</code>: stacks (<code>2</code> by default).</li>
</ul>
<h4>
<a name="out-24" class="anchor" href="#out-24"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code>: a cylindrical surface with radius <code>r</code> and height <code>h</code>, divided in <code>slices</code> and <code>stacks</code>. </p>
</blockquote>
</blockquote>

<h4>
<a name="example-13" class="anchor" href="#example-13"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">model</span> <span class="o">=</span> <span class="nx">CYLSURFACE</span><span class="p">()();</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">model</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="diskrdivs" class="anchor" href="#diskrdivs"><span class="mini-icon mini-icon-link"></span></a><code>DISK(r)(divs)</code>
</h3>

<p>Create a disk surface with radius <code>r</code>.</p>

<h4>
<a name="io-14" class="anchor" href="#io-14"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-25" class="anchor" href="#in-25"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Number</code> <code>r</code>: the radius (<code>1</code> by default).</p>

<h4>
<a name="out-25" class="anchor" href="#out-25"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous function.</p>

<blockquote>
<h4>
<a name="in-26" class="anchor" href="#in-26"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>divs</code>: divisions <code>[slices, stacks]</code>.</p>

<ul>
<li>
<code>Number</code> <code>slices</code>: slices (<code>16</code> by default).</li>
<li>
<code>Number</code> <code>stacks</code>: stacks (<code>2</code> by default).</li>
</ul>
<h4>
<a name="out-26" class="anchor" href="#out-26"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code>: a disk with radius <code>r</code>, divided in <code>slices</code> and <code>stacks</code>. </p>
</blockquote>
</blockquote>

<h4>
<a name="example-14" class="anchor" href="#example-14"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">model</span> <span class="o">=</span> <span class="nx">DISK</span><span class="p">()();</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">model</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="domaindimsdivs" class="anchor" href="#domaindimsdivs"><span class="mini-icon mini-icon-link"></span></a><code>DOMAIN(dims)(divs)</code>
</h3>

<p>Create a domain.</p>

<h4>
<a name="io-15" class="anchor" href="#io-15"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-27" class="anchor" href="#in-27"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>dims</code>: dimensions <code>[dx, dy, dz, ...]</code>.</p>

<ul>
<li>
<code>Array</code> <code>dx</code>: intervals <code>[start_x, end_x]</code>

<ul>
<li>
<code>Number</code> <code>start_x</code>: x min</li>
<li>
<code>Number</code> <code>end_x</code>: x max</li>
</ul>
</li>
<li>
<code>Array</code> <code>dy</code>: intervals <code>[start_y, end_y]</code>

<ul>
<li>
<code>Number</code> <code>start_y</code>: y min</li>
<li>
<code>Number</code> <code>end_y</code>: y max</li>
</ul>
</li>
<li>
<code>Array</code> <code>dz</code>: intervals <code>[start_z, end_z]</code>

<ul>
<li>
<code>Number</code> <code>start_z</code>: z min</li>
<li>
<code>Number</code> <code>end_z</code>: z max</li>
</ul>
</li>
<li>...</li>
</ul>
<h4>
<a name="out-27" class="anchor" href="#out-27"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous function.</p>

<blockquote>
<h4>
<a name="in-28" class="anchor" href="#in-28"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>divs</code>: divisions <code>[nx, ny, nz, ...]</code>.</p>

<ul>
<li>
<code>Number</code> <code>nx</code>: division along x axes.</li>
<li>
<code>Number</code> <code>ny</code>: division along y axes.</li>
<li>
<code>Number</code> <code>nz</code>: division along z axes.</li>
<li>...</li>
</ul>
<h4>
<a name="out-28" class="anchor" href="#out-28"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code>: a domain. </p>
</blockquote>
</blockquote>

<h4>
<a name="example-15" class="anchor" href="#example-15"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">domain1</span> <span class="o">=</span> <span class="nx">DOMAIN</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="nx">PI</span><span class="p">])([</span><span class="mi">32</span><span class="p">]);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">domain1</span><span class="p">);</span>
</pre>
</div>


<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">domain2</span> <span class="o">=</span> <span class="nx">DOMAIN</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="nx">PI</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]])([</span><span class="mi">32</span><span class="p">,</span> <span class="mi">2</span><span class="p">]);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">domain2</span><span class="p">);</span>
</pre>
</div>


<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">domain3</span> <span class="o">=</span> <span class="nx">DOMAIN</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="nx">PI</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">]])([</span><span class="mi">32</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">]);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">domain3</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="drawobject" class="anchor" href="#drawobject"><span class="mini-icon mini-icon-link"></span></a><code>DRAW(object)</code>
</h3>

<p>Draw an object of 3 or less dimensions.</p>

<h4>
<a name="io-16" class="anchor" href="#io-16"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-29" class="anchor" href="#in-29"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>plasm.Model</code> or <code>plasm.Struct</code> <code>object</code>: the object to draw.</p>

<h4>
<a name="out-29" class="anchor" href="#out-29"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code> or <code>plasm.Struct</code> <code>object</code>: the object drawn.</p>
</blockquote>

<hr><h4>
<a name="explodevaluesmodel" class="anchor" href="#explodevaluesmodel"><span class="mini-icon mini-icon-link"></span></a><code>EXPLODE(values)(model)</code>
</h4>

<p>Explode a <code>model</code>.</p>

<h4>
<a name="io-17" class="anchor" href="#io-17"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-30" class="anchor" href="#in-30"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>values</code>: <code>[dx, dy, dz, ...]</code></p>

<ul>
<li>
<code>Number</code> <code>dx</code>: explosion factor along x axe</li>
<li>
<code>Number</code> <code>dy</code>: explosion factor along y axe</li>
<li>
<code>Number</code> <code>dx</code>: explosion factor along z axe</li>
<li>...</li>
</ul>
<h4>
<a name="out-30" class="anchor" href="#out-30"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonimous function. </p>

<blockquote>
<h4>
<a name="in-31" class="anchor" href="#in-31"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>plasm.Model</code> <code>model</code>: the model to explode.</p>

<h4>
<a name="out-31" class="anchor" href="#out-31"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code>: the model exploded.</p>
</blockquote>
</blockquote>

<h4>
<a name="example-16" class="anchor" href="#example-16"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">model</span> <span class="o">=</span> <span class="nx">TORUS_SURFACE</span><span class="p">()();</span>
<span class="kd">var</span> <span class="nx">exploded</span> <span class="o">=</span> <span class="nx">EXLODE</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">])(</span><span class="nx">model</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">exploded</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h4>
<a name="extrudehlistobject" class="anchor" href="#extrudehlistobject"><span class="mini-icon mini-icon-link"></span></a><code>EXTRUDE(hlist)(object)</code>
</h4>

<p>Extrude an <code>object</code>.</p>

<h4>
<a name="io-18" class="anchor" href="#io-18"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-32" class="anchor" href="#in-32"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>hlist</code></p>

<h4>
<a name="out-32" class="anchor" href="#out-32"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonimous function. </p>

<blockquote>
<h4>
<a name="in-33" class="anchor" href="#in-33"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>plasm.Model</code> or <code>plasm.Struct</code> <code>objetc</code>: the object to extrude.</p>

<h4>
<a name="out-33" class="anchor" href="#out-33"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code> or <code>plasm.Struct</code> <code>objetc</code>: the extruded object.</p>
</blockquote>
</blockquote>

<h4>
<a name="example-17" class="anchor" href="#example-17"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">model</span> <span class="o">=</span> <span class="nx">SIMPLEX</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">extruded</span> <span class="o">=</span> <span class="nx">EXTRUDE</span><span class="p">([</span><span class="mi">1</span><span class="p">])(</span><span class="nx">model</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">extruded</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h4>
<a name="hideobject" class="anchor" href="#hideobject"><span class="mini-icon mini-icon-link"></span></a><code>HIDE(object)</code>
</h4>

<p>Hide the <code>object</code>.</p>

<h4>
<a name="io-19" class="anchor" href="#io-19"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-34" class="anchor" href="#in-34"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>plasm.Model</code> or <code>plasm.Struct</code> <code>objetc</code>: the object to hide.</p>

<h4>
<a name="out-34" class="anchor" href="#out-34"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code> or <code>plasm.Struct</code>: the hidden model.</p>
</blockquote>

<h4>
<a name="example-18" class="anchor" href="#example-18"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">model</span> <span class="o">=</span> <span class="nx">TORUS_SURFACE</span><span class="p">()();</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">model</span><span class="p">);</span>
<span class="nx">HIDE</span><span class="p">(</span><span class="nx">model</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="intervalslengthn" class="anchor" href="#intervalslengthn"><span class="mini-icon mini-icon-link"></span></a><code>INTERVALS(length)(n)</code>
</h3>

<p>Create a segment from <code>0</code> to <code>length</code> divided in <code>n</code> parts.</p>

<h4>
<a name="io-20" class="anchor" href="#io-20"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-35" class="anchor" href="#in-35"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Number</code> <code>length</code>: the length of the interval.</p>

<h4>
<a name="out-35" class="anchor" href="#out-35"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonimous function. </p>

<blockquote>
<h4>
<a name="in-36" class="anchor" href="#in-36"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Number</code> <code>n</code>: the number of divisions.</p>

<h4>
<a name="out-36" class="anchor" href="#out-36"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code>: a segment from <code>0</code> to <code>length</code> divided in <code>n</code> parts.</p>
</blockquote>
</blockquote>

<h4>
<a name="example-19" class="anchor" href="#example-19"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">intervals</span> <span class="o">=</span> <span class="nx">INTERVALS</span><span class="p">(</span><span class="mi">10</span><span class="p">)(</span><span class="mi">5</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">intervals</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="kdataanydata" class="anchor" href="#kdataanydata"><span class="mini-icon mini-icon-link"></span></a><code>K(data)(anydata)</code>
</h3>

<p>Return <code>object</code> when invoked on <code>anyObject</code>.</p>

<h4>
<a name="io-21" class="anchor" href="#io-21"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-37" class="anchor" href="#in-37"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Object</code> <code>data</code>: any <code>Object</code></p>

<h4>
<a name="out-37" class="anchor" href="#out-37"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous function.</p>

<blockquote>
<h4>
<a name="in-38" class="anchor" href="#in-38"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Object</code> <code>anydata</code>: any <code>Object</code> that will be discarded</p>

<h4>
<a name="out-38" class="anchor" href="#out-38"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous function.</p>
</blockquote>
</blockquote>

<h4>
<a name="example-20" class="anchor" href="#example-20"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">kContent</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">identityCall</span> <span class="o">=</span> <span class="nx">K</span><span class="p">(</span><span class="nx">kContent</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">newCall</span> <span class="o">=</span> <span class="nx">identityCall</span><span class="p">(</span><span class="s2">"plasm"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">kContent</span> <span class="o">===</span> <span class="nx">newCall</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="mapmappingdomain" class="anchor" href="#mapmappingdomain"><span class="mini-icon mini-icon-link"></span></a><code>MAP(mapping)(domain)</code>
</h3>

<p>Map a <code>domain</code> by a <code>mapping</code> function.</p>

<h4>
<a name="io-22" class="anchor" href="#io-22"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-39" class="anchor" href="#in-39"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Function|Array</code> <code>mapping</code>: the mapping function (or array of function)</p>

<blockquote>
<h4>
<a name="in-40" class="anchor" href="#in-40"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>v</code>: point of the <code>domain</code>.</p>

<h4>
<a name="out-39" class="anchor" href="#out-39"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Array</code>: the mapped point. </p>
</blockquote>

<h4>
<a name="out-40" class="anchor" href="#out-40"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous function.</p>

<blockquote>
<h4>
<a name="in-41" class="anchor" href="#in-41"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>plasm.Model</code> <code>domain</code>: the domain to map.</p>

<h4>
<a name="out-41" class="anchor" href="#out-41"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code>: the mapped domain.</p>
</blockquote>
</blockquote>

<h4>
<a name="example-21" class="anchor" href="#example-21"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">mapping</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">v</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="p">[</span><span class="nx">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">v</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nx">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]];</span>
<span class="kd">var</span> <span class="nx">model</span> <span class="o">=</span> <span class="nx">TORUS_SURFACE</span><span class="p">()();</span>
<span class="kd">var</span> <span class="nx">mapped</span> <span class="o">=</span> <span class="nx">MAP</span><span class="p">(</span><span class="nx">mapping</span><span class="p">)(</span><span class="nx">model</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">mapped</span><span class="p">);</span>
</pre>
</div>


<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">domain</span> <span class="o">=</span> <span class="nx">DOMAIN</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="nx">PI</span><span class="p">]);</span>
<span class="kd">var</span> <span class="nx">mapping</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">v</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="p">[</span><span class="nx">SIN</span><span class="p">(</span><span class="nx">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nx">COS</span><span class="p">(</span><span class="nx">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])];</span> <span class="p">});</span>
<span class="kd">var</span> <span class="nx">model</span> <span class="o">=</span> <span class="nx">MAP</span><span class="p">(</span><span class="nx">mapping</span><span class="p">)(</span><span class="nx">domain</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">model</span><span class="p">);</span>
</pre>
</div>


<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">domain</span> <span class="o">=</span> <span class="nx">DOMAIN</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="nx">PI</span><span class="p">]);</span>
<span class="kd">var</span> <span class="nx">mapping</span> <span class="o">=</span> <span class="p">[</span>
  <span class="kd">function</span> <span class="p">(</span><span class="nx">v</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">SIN</span><span class="p">(</span><span class="nx">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span> <span class="p">},</span> 
  <span class="kd">function</span> <span class="p">(</span><span class="nx">v</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">COS</span><span class="p">(</span><span class="nx">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span> <span class="p">}</span>
<span class="p">]);</span>
<span class="kd">var</span> <span class="nx">model</span> <span class="o">=</span> <span class="nx">MAP</span><span class="p">(</span><span class="nx">mapping</span><span class="p">)(</span><span class="nx">domain</span><span class="p">)</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">model</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="nubslinedegreeknotscontrols" class="anchor" href="#nubslinedegreeknotscontrols"><span class="mini-icon mini-icon-link"></span></a><code>NUBSLINE(degree)(knots)(controls)</code>
</h3>

<p>Non-uniform B-Spline.</p>

<h4>
<a name="io-23" class="anchor" href="#io-23"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-42" class="anchor" href="#in-42"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Number</code> <code>degree</code>: spline degree.
<code>Number</code> <code>[totpoints=80]</code>: total number of spline's points.</p>

<h4>
<a name="out-42" class="anchor" href="#out-42"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous function.</p>

<blockquote>
<h4>
<a name="in-43" class="anchor" href="#in-43"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>knots</code>: Array of integer describing spline's knots.</p>

<h4>
<a name="out-43" class="anchor" href="#out-43"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous function.</p>

<blockquote>
<h4>
<a name="in-44" class="anchor" href="#in-44"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>controls</code>: Array of integer describing spline's control points.</p>

<h4>
<a name="out-44" class="anchor" href="#out-44"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code>: non uniform spline.</p>
</blockquote>
</blockquote>
</blockquote>

<h4>
<a name="example-22" class="anchor" href="#example-22"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">controls</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">]];</span>
<span class="kd">var</span> <span class="nx">knots</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">nubspline</span> <span class="o">=</span> <span class="nx">NUBSPLINE</span><span class="p">(</span><span class="mi">3</span><span class="p">)(</span><span class="nx">knots</span><span class="p">)(</span><span class="nx">controls</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">nubspline</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="nubsseldegreeknotscontrols" class="anchor" href="#nubsseldegreeknotscontrols"><span class="mini-icon mini-icon-link"></span></a><code>NUBS(sel)(degree)(knots)(controls)</code>
</h3>

<p>Transfinite Non-uniform B-Spline.</p>

<h4>
<a name="io-24" class="anchor" href="#io-24"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-45" class="anchor" href="#in-45"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Function</code> <code>sel</code>: selctor function.</p>

<h4>
<a name="out-45" class="anchor" href="#out-45"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous function.</p>

<blockquote>
<h4>
<a name="in-46" class="anchor" href="#in-46"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Number</code> <code>degree</code>: spline degree.</p>

<h4>
<a name="out-46" class="anchor" href="#out-46"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous function.</p>

<blockquote>
<h4>
<a name="in-47" class="anchor" href="#in-47"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>knots</code>: Array of integer describing spline's knots.</p>

<h4>
<a name="out-47" class="anchor" href="#out-47"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous function.</p>

<blockquote>
<h4>
<a name="in-48" class="anchor" href="#in-48"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>controls</code>: Array of integer describing spline's control points.</p>

<h4>
<a name="out-48" class="anchor" href="#out-48"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code>: non uniform spline.</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>

<h4>
<a name="example-23" class="anchor" href="#example-23"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">domain</span> <span class="o">=</span> <span class="nx">INTERVALS</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">20</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">controls</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">]];</span>
<span class="kd">var</span> <span class="nx">nubs</span> <span class="o">=</span> <span class="nx">NUBS</span><span class="p">(</span><span class="nx">S0</span><span class="p">)(</span><span class="mi">3</span><span class="p">)([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">])(</span><span class="nx">controls</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">model</span> <span class="o">=</span> <span class="nx">MAP</span><span class="p">(</span><span class="nx">nubs</span><span class="p">)(</span><span class="nx">domain</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">model</span><span class="p">);</span>
</pre>
</div>


<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">domain</span> <span class="o">=</span> <span class="nx">DOMAIN</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]])([</span><span class="mi">30</span><span class="p">,</span><span class="mi">30</span><span class="p">]);</span>
<span class="kd">var</span> <span class="nx">b0</span> <span class="o">=</span> <span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S0</span><span class="p">)([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">b1</span> <span class="o">=</span> <span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S0</span><span class="p">)([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">8</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">9</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">b2</span> <span class="o">=</span> <span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S0</span><span class="p">)([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">12</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">b3</span> <span class="o">=</span> <span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S0</span><span class="p">)([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">9</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">controls</span> <span class="o">=</span> <span class="p">[</span><span class="nx">b0</span><span class="p">,</span><span class="nx">b1</span><span class="p">,</span><span class="nx">b2</span><span class="p">,</span><span class="nx">b3</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">nubs</span> <span class="o">=</span> <span class="nx">NUBS</span><span class="p">(</span><span class="nx">S1</span><span class="p">)(</span><span class="mi">3</span><span class="p">)([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">])(</span><span class="nx">controls</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">model</span> <span class="o">=</span> <span class="nx">MAP</span><span class="p">(</span><span class="nx">nubs</span><span class="p">)(</span><span class="nx">domain</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">model</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="nurbslinedegreeknotscontrols" class="anchor" href="#nurbslinedegreeknotscontrols"><span class="mini-icon mini-icon-link"></span></a><code>NURBSLINE(degree)(knots)(controls)</code>
</h3>

<p>Non-uniform Rational B-Spline.</p>

<h4>
<a name="io-25" class="anchor" href="#io-25"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-49" class="anchor" href="#in-49"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Number</code> <code>degree</code>: spline degree.
<code>Number</code> <code>[totpoints=80]</code>: total number of spline's points.</p>

<h4>
<a name="out-49" class="anchor" href="#out-49"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous function.</p>

<blockquote>
<h4>
<a name="in-50" class="anchor" href="#in-50"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>knots</code>: Array of integer describing spline's knots.</p>

<h4>
<a name="out-50" class="anchor" href="#out-50"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous function.</p>

<blockquote>
<h4>
<a name="in-51" class="anchor" href="#in-51"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>controls</code>: Array of integer describing spline's control points.</p>

<h4>
<a name="out-51" class="anchor" href="#out-51"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code>: non uniform rational spline.</p>
</blockquote>
</blockquote>
</blockquote>

<h4>
<a name="example-24" class="anchor" href="#example-24"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">_p</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="mf">2.0</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">controls</span> <span class="o">=</span> <span class="p">[[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="nx">_p</span><span class="p">,</span><span class="nx">_p</span><span class="p">,</span><span class="nx">_p</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="nx">_p</span><span class="p">,</span><span class="nx">_p</span><span class="p">,</span><span class="nx">_p</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="nx">_p</span><span class="p">,</span><span class="o">-</span><span class="nx">_p</span><span class="p">,</span><span class="nx">_p</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="nx">_p</span><span class="p">,</span><span class="o">-</span><span class="nx">_p</span><span class="p">,</span><span class="nx">_p</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]];</span>
<span class="kd">var</span> <span class="nx">knots</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">nurbs</span> <span class="o">=</span> <span class="nx">NURBSPLINE</span><span class="p">(</span><span class="mi">2</span><span class="p">)(</span><span class="nx">knots</span><span class="p">)(</span><span class="nx">controls</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">nurbs</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="polylinepoints" class="anchor" href="#polylinepoints"><span class="mini-icon mini-icon-link"></span></a><code>POLYLINE(points)</code>
</h3>

<p>Create a polyline made by <code>points</code>.</p>

<h4>
<a name="io-26" class="anchor" href="#io-26"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-52" class="anchor" href="#in-52"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>points</code>: an array of points (<code>[p0, p1, ...]</code>):</p>

<ul>
<li>
<code>Array</code> <code>points[i]</code> <code>point</code>: <code>i</code>-th point

<ul>
<li>
<code>Number</code> <code>point[k]</code>: <code>k</code>-th coord of <code>point</code>
</li>
</ul>
</li>
</ul>
<h4>
<a name="out-52" class="anchor" href="#out-52"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code>: a polyline made by <code>points</code>.</p>
</blockquote>

<h4>
<a name="example-25" class="anchor" href="#example-25"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">points</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]];</span>
<span class="kd">var</span> <span class="nx">polyline</span> <span class="o">=</span> <span class="nx">POLYLINE</span><span class="p">(</span><span class="nx">points</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">polyline</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="polypointpoints" class="anchor" href="#polypointpoints"><span class="mini-icon mini-icon-link"></span></a><code>POLYPOINT(points)</code>
</h3>

<p>Create a 0D complex.</p>

<h4>
<a name="io-27" class="anchor" href="#io-27"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-53" class="anchor" href="#in-53"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>points</code>: an array of points (<code>[p0, p1, ...]</code>):</p>

<ul>
<li>
<code>Array</code> <code>points[i]</code> <code>point</code>: <code>i</code>-th point

<ul>
<li>
<code>Number</code> <code>point[k]</code>: <code>k</code>-th coord of <code>point</code>
</li>
</ul>
</li>
</ul>
<h4>
<a name="out-53" class="anchor" href="#out-53"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code>: a polypoint made by <code>points</code>.</p>
</blockquote>

<h4>
<a name="example-26" class="anchor" href="#example-26"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">points</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]];</span>
<span class="kd">var</span> <span class="nx">polypoint</span> <span class="o">=</span> <span class="nx">POLYPOINT</span><span class="p">(</span><span class="nx">points</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">polypoint</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="prod1x1array" class="anchor" href="#prod1x1array"><span class="mini-icon mini-icon-link"></span></a><code>PROD1x1(array)</code>
</h3>

<p>Return cartesian product of the two models in <code>array</code>.<br>
Each model must have Rn equals to 1.</p>

<h4>
<a name="io-28" class="anchor" href="#io-28"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-54" class="anchor" href="#in-54"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>array</code>: an array of the two operand models (<code>[model1, model2]</code>):</p>

<ul>
<li>
<code>Array</code> <code>array[0]</code> <code>model1</code>: the first operand model</li>
<li>
<code>Array</code> <code>array[1]</code> <code>model2</code>: the second operand model</li>
</ul>
<h4>
<a name="out-54" class="anchor" href="#out-54"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code>: result of the product of the two models</p>
</blockquote>

<h4>
<a name="example-27" class="anchor" href="#example-27"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">POLYLINE</span><span class="p">([[</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">POLYLINE</span><span class="p">([[</span><span class="mf">2.2</span><span class="p">],[</span><span class="mf">3.5</span><span class="p">],[</span><span class="mf">7.8</span><span class="p">],[</span><span class="mf">9.0</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">axb</span> <span class="o">=</span> <span class="nx">PROD1x1</span><span class="p">([</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">]);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">STRUCT</span><span class="p">([</span><span class="nx">axb</span><span class="p">,</span> <span class="nx">SKELETON</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="nx">axb</span><span class="p">)]));</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="prod1x2array" class="anchor" href="#prod1x2array"><span class="mini-icon mini-icon-link"></span></a><code>PROD1x2(array)</code>
</h3>

<p>Return cartesian product of the two models in <code>array</code>.<br>
The first model must have Rn equals to 1.<br>
The second model must have Rn equals to 2.  </p>

<h4>
<a name="io-29" class="anchor" href="#io-29"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-55" class="anchor" href="#in-55"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>array</code>: an array of the two operand models (<code>[model1, model2]</code>):</p>

<ul>
<li>
<code>Array</code> <code>array[0]</code> <code>model1</code>: the first operand model</li>
<li>
<code>Array</code> <code>array[1]</code> <code>model2</code>: the second operand model</li>
</ul>
<h4>
<a name="out-55" class="anchor" href="#out-55"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code>: result of the product of the two models</p>
</blockquote>

<h4>
<a name="example-28" class="anchor" href="#example-28"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">POLYLINE</span><span class="p">([[</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">POLYLINE</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">axb</span> <span class="o">=</span> <span class="nx">PROD1x2</span><span class="p">([</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">]);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">STRUCT</span><span class="p">([</span><span class="nx">axb</span><span class="p">,</span> <span class="nx">SKELETON</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="nx">axb</span><span class="p">)]));</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="prod2x1array" class="anchor" href="#prod2x1array"><span class="mini-icon mini-icon-link"></span></a><code>PROD2x1(array)</code>
</h3>

<p>Return cartesian product of the two models in <code>array</code>.<br>
The first model must have Rn equals to 2.<br>
The second model must have Rn equals to 1.  </p>

<h4>
<a name="io-30" class="anchor" href="#io-30"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-56" class="anchor" href="#in-56"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>array</code>: an array of the two operand models (<code>[model1, model2]</code>):</p>

<ul>
<li>
<code>Array</code> <code>array[0]</code> <code>model1</code>: the first operand model</li>
<li>
<code>Array</code> <code>array[1]</code> <code>model2</code>: the second operand model</li>
</ul>
<h4>
<a name="out-56" class="anchor" href="#out-56"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code>: result of the product of the two models</p>
</blockquote>

<h4>
<a name="example-29" class="anchor" href="#example-29"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">POLYLINE</span><span class="p">([[</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">POLYLINE</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">bxa</span> <span class="o">=</span> <span class="nx">PROD2x1</span><span class="p">([</span><span class="nx">b</span><span class="p">,</span><span class="nx">a</span><span class="p">]);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">STRUCT</span><span class="p">([</span><span class="nx">bxa</span><span class="p">,</span> <span class="nx">SKELETON</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="nx">bxa</span><span class="p">)]));</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="profileprod_surfaceprofiles" class="anchor" href="#profileprod_surfaceprofiles"><span class="mini-icon mini-icon-link"></span></a><code>PROFILEPROD_SURFACE(profiles)</code>
</h3>

<p>Create a surface S mapping as profile product between two plane curves A and B (in <code>profiles</code>)</p>

<h4>
<a name="io-31" class="anchor" href="#io-31"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-57" class="anchor" href="#in-57"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>profiles</code>: mapping <code>Function</code> of the two plane curves profile to product.</p>

<h4>
<a name="out-57" class="anchor" href="#out-57"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: mapping of the profile product surface</p>
</blockquote>

<h4>
<a name="example-30" class="anchor" href="#example-30"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">dom1D</span> <span class="o">=</span> <span class="nx">INTERVALS</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">32</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">Su0</span> <span class="o">=</span> <span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S0</span><span class="p">)([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">curve0</span> <span class="o">=</span> <span class="nx">MAP</span><span class="p">(</span><span class="nx">Su0</span><span class="p">)(</span><span class="nx">dom1D</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">COLOR</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])(</span><span class="nx">curve0</span><span class="p">));</span>

<span class="kd">var</span> <span class="nx">Su1</span> <span class="o">=</span> <span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S1</span><span class="p">)([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mf">3.5</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">Su1Draw</span> <span class="o">=</span> <span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S0</span><span class="p">)([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mf">3.5</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">curve1</span> <span class="o">=</span> <span class="nx">MAP</span><span class="p">(</span><span class="nx">Su1Draw</span><span class="p">)(</span><span class="nx">dom1D</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">COLOR</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])(</span><span class="nx">curve1</span><span class="p">));</span>

<span class="kd">var</span> <span class="nx">dom2D</span> <span class="o">=</span> <span class="nx">PROD1x1</span><span class="p">([</span><span class="nx">INTERVALS</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">16</span><span class="p">),</span><span class="nx">INTERVALS</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">16</span><span class="p">)]);</span> <span class="c1">// DOMAIN([[0,1],[0,1]])([20,20]);</span>
<span class="kd">var</span> <span class="nx">out</span> <span class="o">=</span> <span class="nx">MAP</span><span class="p">(</span><span class="nx">PROFILEPROD_SURFACE</span><span class="p">([</span><span class="nx">Su0</span><span class="p">,</span><span class="nx">Su1</span><span class="p">]))(</span><span class="nx">dom2D</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">out</span><span class="p">);</span> 
</pre>
</div>

</blockquote>

<hr><h3>
<a name="rotatedimsangleobject--rdimsangleobject" class="anchor" href="#rotatedimsangleobject--rdimsangleobject"><span class="mini-icon mini-icon-link"></span></a><code>ROTATE(dims)(angle)(object)</code> / <code>R(dims)(angle)(object)</code>
</h3>

<p>Rotate <code>object</code> by <code>angle</code> on the rotational plane described by <code>dims</code>.</p>

<h4>
<a name="io-32" class="anchor" href="#io-32"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-58" class="anchor" href="#in-58"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>dims</code>: an array of <code>Number</code> specifying dimensions forming the rotational plane on which rotate the object.</p>

<ul>
<li>
<code>Array</code> <code>dims[0]</code> <code>dims1</code>: the first dimension of the rotational plane.</li>
<li>
<code>Array</code> <code>dims[1]</code> <code>dims2</code>: the second dimension of the rotational plane.</li>
</ul>
<h4>
<a name="out-58" class="anchor" href="#out-58"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Funciton</code>: an anonymous function.</p>

<blockquote>
<h4>
<a name="in-59" class="anchor" href="#in-59"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Number</code> <code>angle</code>: rotational angle (in radiant, from <code>0</code> to <code>2Ï€</code>).</p>

<h4>
<a name="out-59" class="anchor" href="#out-59"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous function.</p>

<blockquote>
<h4>
<a name="in-60" class="anchor" href="#in-60"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>plasm.Model</code> or <code>plasm.Struct</code> <code>object</code>: the object to rotate.</p>

<h4>
<a name="out-60" class="anchor" href="#out-60"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code> or <code>plasm.Struct</code>: the rotated object.</p>
</blockquote>
</blockquote>
</blockquote>

<h4>
<a name="example-31" class="anchor" href="#example-31"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">model</span> <span class="o">=</span> <span class="nx">TORUS_SURFACE</span><span class="p">()();</span>
<span class="kd">var</span> <span class="nx">rotated</span> <span class="o">=</span> <span class="nx">ROTATE</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])(</span><span class="nx">PI</span><span class="o">/</span><span class="mi">3</span><span class="p">)(</span><span class="nx">model</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">rotated</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="rotational_surfaceprofile" class="anchor" href="#rotational_surfaceprofile"><span class="mini-icon mini-icon-link"></span></a><code>ROTATIONAL_SURFACE(profile)</code>
</h3>

<p>Create a rotational surface mapping given the mapping of the profile to rotate.</p>

<h4>
<a name="io-33" class="anchor" href="#io-33"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-61" class="anchor" href="#in-61"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Function</code> <code>profile</code>: mapping of the profile to rotate.</p>

<h4>
<a name="out-61" class="anchor" href="#out-61"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: mapping of the rotational surface</p>
</blockquote>

<h4>
<a name="example-32" class="anchor" href="#example-32"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">domain</span> <span class="o">=</span> <span class="nx">DOMAIN</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="nx">PI</span><span class="p">]])([</span><span class="mi">20</span><span class="p">,</span><span class="mi">20</span><span class="p">]);</span>
<span class="kd">var</span> <span class="nx">profile</span> <span class="o">=</span> <span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S0</span><span class="p">)([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">7</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">mapping</span> <span class="o">=</span> <span class="nx">ROTATIONAL_SURFACE</span><span class="p">(</span><span class="nx">profile</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">surface</span> <span class="o">=</span> <span class="nx">MAP</span><span class="p">(</span><span class="nx">mapping</span><span class="p">)(</span><span class="nx">domain</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="ruled_surfaceprofiles" class="anchor" href="#ruled_surfaceprofiles"><span class="mini-icon mini-icon-link"></span></a><code>RULED_SURFACE(profiles)</code>
</h3>

<p>Create a ruled surface S mapping between two profile curves A and B (in <code>profiles</code>).
The curves can either be a known profile function, like <code>BEZIER</code>, or a custom one (see examples).</p>

<h4>
<a name="io-34" class="anchor" href="#io-34"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-62" class="anchor" href="#in-62"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>functions</code>: mapping <code>Function</code> of the two curves.</p>

<h4>
<a name="out-62" class="anchor" href="#out-62"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: mapping of the profile ruled surface</p>
</blockquote>

<h4>
<a name="example-33" class="anchor" href="#example-33"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="c1">// Hyperbolic paraboloid</span>
<span class="kd">var</span> <span class="nx">dom2D</span> <span class="o">=</span> <span class="nx">T</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])(</span> <span class="nx">PROD1x1</span><span class="p">([</span><span class="nx">INTERVALS</span><span class="p">(</span><span class="mi">2</span><span class="p">)(</span><span class="mi">10</span><span class="p">),</span><span class="nx">INTERVALS</span><span class="p">(</span><span class="mi">2</span><span class="p">)(</span><span class="mi">10</span><span class="p">)])</span> <span class="p">);</span>
<span class="kd">var</span> <span class="nx">funAlfa</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">pt</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="p">[</span> <span class="nx">pt</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">pt</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span> <span class="p">];</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">funBeta</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">pt</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nx">pt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">];</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">out</span> <span class="o">=</span> <span class="nx">MAP</span><span class="p">(</span><span class="nx">RULED_SURFACE</span><span class="p">([</span><span class="nx">funAlfa</span><span class="p">,</span><span class="nx">funBeta</span><span class="p">]))(</span><span class="nx">dom2D</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">out</span><span class="p">);</span>
</pre>
</div>


<div class="highlight">
<pre><span class="c1">// Linear interpolation of curves: surface connecting a BÃ©zier curve and a portion of a circle</span>
<span class="kd">var</span> <span class="nx">dom2D</span> <span class="o">=</span> <span class="nx">PROD1x1</span><span class="p">([</span><span class="nx">INTERVALS</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">50</span><span class="p">),</span><span class="nx">INTERVALS</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">50</span><span class="p">)]);</span>
<span class="kd">var</span> <span class="nx">funAlfa</span> <span class="o">=</span> <span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S0</span><span class="p">)([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">funBeta</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">curveFun</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">pt</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">pAlfa</span> <span class="o">=</span> <span class="nx">curveFun</span><span class="p">(</span><span class="nx">pt</span><span class="p">);</span>
      <span class="k">return</span> <span class="p">[</span> <span class="nx">COS</span><span class="p">(</span> <span class="nx">PI</span> <span class="o">*</span> <span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="nx">pt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span> <span class="o">-</span> <span class="nx">pAlfa</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">SIN</span><span class="p">(</span> <span class="nx">PI</span> <span class="o">*</span> <span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="nx">pt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span> <span class="o">-</span> <span class="nx">pAlfa</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span> <span class="o">-</span> <span class="nx">pAlfa</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">];</span>
  <span class="p">};</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">out</span> <span class="o">=</span> <span class="nx">MAP</span><span class="p">(</span><span class="nx">RULED_SURFACE</span><span class="p">([</span><span class="nx">funAlfa</span><span class="p">,</span><span class="nx">funBeta</span><span class="p">(</span><span class="nx">funAlfa</span><span class="p">)]))(</span><span class="nx">dom2D</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">out</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="scaleaxisvaluesobject--saxisvaluesobject" class="anchor" href="#scaleaxisvaluesobject--saxisvaluesobject"><span class="mini-icon mini-icon-link"></span></a><code>SCALE(axis)(values)(object)</code> / <code>S(axis)(values)(object)</code>
</h3>

<p>Scale <code>model</code> by <code>values</code> along <code>axis</code>.</p>

<h4>
<a name="io-35" class="anchor" href="#io-35"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-63" class="anchor" href="#in-63"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>axis</code>: axis to scale along.</p>

<h4>
<a name="out-63" class="anchor" href="#out-63"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous function.</p>

<blockquote>
<h4>
<a name="in-64" class="anchor" href="#in-64"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>values</code>: scaling factors.</p>

<h4>
<a name="out-64" class="anchor" href="#out-64"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous function.</p>

<blockquote>
<h4>
<a name="in-65" class="anchor" href="#in-65"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>plasm.Model</code> or <code>plasm.Struct</code> <code>object</code>: the object to scale.</p>

<h4>
<a name="out-65" class="anchor" href="#out-65"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code> or <code>plasm.Struct</code>: the scaled object.</p>
</blockquote>
</blockquote>
</blockquote>

<h4>
<a name="example-34" class="anchor" href="#example-34"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">model</span> <span class="o">=</span> <span class="nx">TORUS_SURFACE</span><span class="p">()();</span>
<span class="kd">var</span> <span class="nx">scaled</span> <span class="o">=</span> <span class="nx">SCALE</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])([</span><span class="mi">2</span><span class="p">,</span><span class="mf">0.5</span><span class="p">])(</span><span class="nx">model</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">scaled</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="showobject" class="anchor" href="#showobject"><span class="mini-icon mini-icon-link"></span></a><code>SHOW(object)</code>
</h3>

<p>Show a hidden <code>object</code>.</p>

<h4>
<a name="io-36" class="anchor" href="#io-36"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-66" class="anchor" href="#in-66"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>plasm.Model</code> or <code>plasm.Struct</code> <code>object</code>: the object to show.</p>

<h4>
<a name="out-66" class="anchor" href="#out-66"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code> or <code>plasm.Struct</code>: the shown model.</p>
</blockquote>

<h4>
<a name="example-35" class="anchor" href="#example-35"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">model</span> <span class="o">=</span> <span class="nx">TORUS_SURFACE</span><span class="p">()();</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">model</span><span class="p">);</span>
<span class="nx">HIDE</span><span class="p">(</span><span class="nx">model</span><span class="p">);</span>
<span class="nx">SHOW</span><span class="p">(</span><span class="nx">model</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="simplexdim" class="anchor" href="#simplexdim"><span class="mini-icon mini-icon-link"></span></a><code>SIMPLEX(dim)</code>
</h3>

<p>Create a <code>dim</code>-dimensional simplex with sides length equal to 1.</p>

<h4>
<a name="io-37" class="anchor" href="#io-37"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-67" class="anchor" href="#in-67"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Number</code> <code>dim</code>: simplex dimension.</p>

<h4>
<a name="out-67" class="anchor" href="#out-67"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code>: a simplex of dim <code>dim</code>.</p>
</blockquote>

<h4>
<a name="example-36" class="anchor" href="#example-36"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">simplex</span> <span class="o">=</span> <span class="nx">SIMPLEX</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">simplex</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="simplex_gridquotes" class="anchor" href="#simplex_gridquotes"><span class="mini-icon mini-icon-link"></span></a><code>SIMPLEX_GRID(quotes)</code>
</h3>

<p>Create a grid simplicial complex.</p>

<h4>
<a name="io-38" class="anchor" href="#io-38"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-68" class="anchor" href="#in-68"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>quotes</code>: an array of array of quotes for each dimension of the grid, starting from dimension 0.<br>
Quotes may be both positive and negative: </p>

<ul>
<li>positive ones are actually generated, </li>
<li>negative ones are considered as a positive spacing.</li>
</ul>
<h4>
<a name="out-68" class="anchor" href="#out-68"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code>: a grid simplicial complex.</p>
</blockquote>

<h4>
<a name="example-37" class="anchor" href="#example-37"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">model</span> <span class="o">=</span> <span class="nx">SIMPLEX_GRID</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">model</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="simplicial_complexpointscells" class="anchor" href="#simplicial_complexpointscells"><span class="mini-icon mini-icon-link"></span></a><code>SIMPLICIAL_COMPLEX(points)(cells)</code>
</h3>

<p>Create a simplicial complex.</p>

<h4>
<a name="io-39" class="anchor" href="#io-39"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-69" class="anchor" href="#in-69"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>points</code>: an array of points, represented as arrays of coordinates.</p>

<h4>
<a name="out-69" class="anchor" href="#out-69"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: anonymous function.</p>

<blockquote>
<h4>
<a name="in-70" class="anchor" href="#in-70"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>cells</code>: complex's highest order cells represented as arrays of indices of <code>points</code>.</p>

<h4>
<a name="out-70" class="anchor" href="#out-70"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code>: a simplicial complex.</p>
</blockquote>

<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">points</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">1.5</span><span class="p">]];</span>
<span class="kd">var</span> <span class="nx">cells</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]];</span>
<span class="kd">var</span> <span class="nx">simplicialComplex</span> <span class="o">=</span> <span class="nx">SIMPLICIAL_COMPLEX</span><span class="p">(</span><span class="nx">points</span><span class="p">)(</span><span class="nx">cells</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">simplicialComplex</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="skeletondimmodel" class="anchor" href="#skeletondimmodel"><span class="mini-icon mini-icon-link"></span></a><code>SKELETON(dim)(model)</code>
</h3>

<p>Extract the <code>dim</code>-skeleton of the <code>model</code>.</p>

<h4>
<a name="io-40" class="anchor" href="#io-40"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-71" class="anchor" href="#in-71"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Number</code> <code>dim</code>: dimension of the skeleton.</p>

<h4>
<a name="out-71" class="anchor" href="#out-71"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: anonymous function.</p>

<blockquote>
<h4>
<a name="in-72" class="anchor" href="#in-72"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>plasm.Model</code> <code>model</code>: model to which extract skeleton. </p>

<h4>
<a name="out-72" class="anchor" href="#out-72"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code>: <code>dim</code>-skeleton of the <code>model</code>.</p>
</blockquote>
</blockquote>

<h4>
<a name="example-38" class="anchor" href="#example-38"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">cuboid</span> <span class="o">=</span> <span class="nx">CUBOID</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]);</span>
<span class="kd">var</span> <span class="nx">skeleton1</span> <span class="o">=</span> <span class="nx">SKELETON</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="nx">cuboid</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">skeleton1</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="splinecurvecontrolpoints" class="anchor" href="#splinecurvecontrolpoints"><span class="mini-icon mini-icon-link"></span></a><code>SPLINE(curve)(controlpoints)</code>
</h3>

<p>Create spline curve.</p>

<h4>
<a name="io-41" class="anchor" href="#io-41"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-73" class="anchor" href="#in-73"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Function</code> <code>curve</code>: spline curve generator function, such as the result of application of <code>CUBIC_UBSPLINE</code> or <code>CUBIC_CARDINAL</code> to a domain.</p>

<h4>
<a name="out-73" class="anchor" href="#out-73"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: an anonymous function.</p>

<blockquote>
<h4>
<a name="in-74" class="anchor" href="#in-74"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>controlpoints</code>: an array of points and curve mapping functions describing curve control points.</p>

<h4>
<a name="out-74" class="anchor" href="#out-74"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Struct</code>: the spline.</p>
</blockquote>
</blockquote>

<h4>
<a name="example-39" class="anchor" href="#example-39"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">domain</span> <span class="o">=</span> <span class="nx">INTERVALS</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">20</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">controlpoints</span> <span class="o">=</span> <span class="p">[[</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">1.5</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">]];</span>
<span class="kd">var</span> <span class="nx">splineCardinal</span> <span class="o">=</span> <span class="nx">COLOR</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])(</span><span class="nx">SPLINE</span><span class="p">(</span><span class="nx">CUBIC_CARDINAL</span><span class="p">(</span><span class="nx">domain</span><span class="p">))(</span><span class="nx">controlpoints</span><span class="p">));</span>
<span class="kd">var</span> <span class="nx">splineCubic</span> <span class="o">=</span> <span class="nx">COLOR</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])(</span><span class="nx">SPLINE</span><span class="p">(</span><span class="nx">CUBIC_UBSPLINE</span><span class="p">(</span><span class="nx">domain</span><span class="p">))(</span><span class="nx">controlpoints</span><span class="p">));</span>
<span class="kd">var</span> <span class="nx">points</span> <span class="o">=</span> <span class="nx">SIMPLICIAL_COMPLEX</span><span class="p">(</span><span class="nx">controlpoints</span><span class="p">)([[</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">],[</span><span class="mi">5</span><span class="p">],[</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">],[</span><span class="mi">8</span><span class="p">],[</span><span class="mi">9</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">out</span> <span class="o">=</span> <span class="nx">STRUCT</span><span class="p">([</span><span class="nx">splineCardinal</span><span class="p">,</span><span class="nx">splineCubic</span><span class="p">,</span><span class="nx">points</span><span class="p">]);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">out</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="structitems" class="anchor" href="#structitems"><span class="mini-icon mini-icon-link"></span></a><code>STRUCT(items)</code>
</h3>

<p>Structure together <code>plasm.Model</code> and <code>plasm.Struct</code>.<br>
If a transformation is encountered in <code>items</code>,<br>
it is applied to all of the following items.</p>

<h4>
<a name="io-42" class="anchor" href="#io-42"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-75" class="anchor" href="#in-75"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>items</code>: an array of <code>plasm.Model</code> or <code>plasm.Struct</code> or <code>Function</code></p>

<h4>
<a name="out-75" class="anchor" href="#out-75"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p>instance of <code>plasm.Struct</code>: a struct.</p>
</blockquote>

<h4>
<a name="example-40" class="anchor" href="#example-40"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">cube1</span> <span class="o">=</span> <span class="nx">CUBE</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">cube2</span> <span class="o">=</span> <span class="nx">T</span><span class="p">([</span><span class="mi">0</span><span class="p">])([</span><span class="mf">1.3</span><span class="p">])(</span><span class="nx">cube1</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">struct1</span> <span class="o">=</span> <span class="nx">STRUCT</span><span class="p">([</span><span class="nx">cube1</span><span class="p">,</span> <span class="nx">cube2</span><span class="p">]);</span>
<span class="kd">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="nx">T</span><span class="p">([</span><span class="mi">1</span><span class="p">])([</span><span class="mf">1.3</span><span class="p">]);</span>
<span class="kd">var</span> <span class="nx">struct</span> <span class="o">=</span> <span class="nx">STRUCT</span><span class="p">([</span><span class="nx">struct1</span><span class="p">,</span> <span class="nx">t</span><span class="p">,</span> <span class="nx">struct1</span><span class="p">,</span> <span class="nx">t</span><span class="p">,</span> <span class="nx">cube1</span><span class="p">]);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="torus_soliddimsdivs" class="anchor" href="#torus_soliddimsdivs"><span class="mini-icon mini-icon-link"></span></a><code>TORUS_SOLID(dims)(divs)</code>
</h3>

<p>Create a torus solid.</p>

<h4>
<a name="io-43" class="anchor" href="#io-43"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-76" class="anchor" href="#in-76"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>dims</code>: size of the radii <code>[rMin, rMax]</code></p>

<ul>
<li>
<code>Number</code> <code>rMin</code>: internal radius (<code>0.1</code> by default)</li>
<li>
<code>Number</code> <code>rMax</code>: external radius (<code>0.9</code> by default)</li>
</ul>
<h4>
<a name="out-76" class="anchor" href="#out-76"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: anonymous function.</p>

<blockquote>
<h4>
<a name="in-77" class="anchor" href="#in-77"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>divs</code>: a triple of approssimation values <code>[m, n, o]</code></p>

<ul>
<li>
<code>Number</code> <code>m</code>: (<code>12</code> by default)</li>
<li>
<code>Number</code> <code>n</code>: (<code>8</code> by default)</li>
<li>
<code>Number</code> <code>o</code>: (<code>8</code> by default)</li>
</ul>
<h4>
<a name="out-77" class="anchor" href="#out-77"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code>: a solid torus.</p>
</blockquote>
</blockquote>

<h4>
<a name="example-41" class="anchor" href="#example-41"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="nx">torusSolid</span> <span class="o">=</span> <span class="nx">TORUS_SOLID</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">])([</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">]);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">torusSolid</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="torus_surfacedimsdivs" class="anchor" href="#torus_surfacedimsdivs"><span class="mini-icon mini-icon-link"></span></a><code>TORUS_SURFACE(dims)(divs)</code>
</h3>

<p>Create a toroidal surface.</p>

<h4>
<a name="io-44" class="anchor" href="#io-44"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-78" class="anchor" href="#in-78"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>dims</code>: size of the radii <code>[rMin, rMax]</code></p>

<ul>
<li>
<code>Number</code> <code>rMin</code>: internal radius (<code>0.1</code> by default)</li>
<li>
<code>Number</code> <code>rMax</code>: external radius (<code>0.9</code> by default)</li>
</ul>
<h4>
<a name="out-78" class="anchor" href="#out-78"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: anonymous function.</p>

<blockquote>
<h4>
<a name="in-79" class="anchor" href="#in-79"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>divs</code>: a couple of approssimation values <code>[m, n, o]</code></p>

<ul>
<li>
<code>Number</code> <code>m</code>: slices (<code>12</code> by default)</li>
<li>
<code>Number</code> <code>n</code>: stacks (<code>8</code> by default)</li>
</ul>
<h4>
<a name="out-79" class="anchor" href="#out-79"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code>: a toroidal surface.</p>
</blockquote>
</blockquote>

<h4>
<a name="example-42" class="anchor" href="#example-42"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">torusSurface</span> <span class="o">=</span> <span class="nx">TORUS_SURFACE</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">])([</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">]);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">torusSurface</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="translatedimsvaluesobject--tdimsvaluesobject" class="anchor" href="#translatedimsvaluesobject--tdimsvaluesobject"><span class="mini-icon mini-icon-link"></span></a><code>TRANSLATE(dims)(values)(object)</code> / <code>T(dims)(values)(object)</code>
</h3>

<p>Clone <code>model</code> and translate cloned model by <code>values</code> on dimensions <code>dims</code>.</p>

<h4>
<a name="io-45" class="anchor" href="#io-45"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-80" class="anchor" href="#in-80"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>dims</code>: an array of <code>Number</code> specifying which dimensions translate (first dim has index 0).</p>

<h4>
<a name="out-80" class="anchor" href="#out-80"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: anonymous function.</p>

<blockquote>
<h4>
<a name="in-81" class="anchor" href="#in-81"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>values</code>: an array of <code>Number</code> specifying translation quantity for every dimension in <code>dims</code>.</p>

<h4>
<a name="out-81" class="anchor" href="#out-81"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>Function</code>: anonymous function.</p>

<blockquote>
<h4>
<a name="in-82" class="anchor" href="#in-82"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>plasm.Model</code> or <code>plasm.Struct</code> <code>object</code>: the object to translate.</p>

<h4>
<a name="out-82" class="anchor" href="#out-82"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p><code>plasm.Model</code> or <code>plasm.Struct</code>: the translated object.</p>
</blockquote>
</blockquote>
</blockquote>

<h4>
<a name="example-43" class="anchor" href="#example-43"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">cube</span> <span class="o">=</span> <span class="nx">CUBE</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">translatedCube</span> <span class="o">=</span> <span class="nx">T</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])([</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">])(</span><span class="nx">cube</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">translatedCube</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="triangular_coons_patchcontrolcurves" class="anchor" href="#triangular_coons_patchcontrolcurves"><span class="mini-icon mini-icon-link"></span></a><code>TRIANGULAR_COONS_PATCH(controlcurves)</code>
</h3>

<p>Create a triangular Coons patch interpolating three control curves</p>

<h4>
<a name="io-46" class="anchor" href="#io-46"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-83" class="anchor" href="#in-83"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>curves</code>: an array of three curves</p>

<h4>
<a name="out-83" class="anchor" href="#out-83"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p>instance of <code>plasm.Model</code>: a triangular Coons patch.</p>
</blockquote>

<h4>
<a name="example-44" class="anchor" href="#example-44"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">dom1D</span> <span class="o">=</span> <span class="nx">INTERVALS</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">32</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">dom2D</span> <span class="o">=</span> <span class="nx">TRIANGLE_DOMAIN</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]]);</span>

<span class="kd">var</span> <span class="nx">Cab0</span> <span class="o">=</span> <span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S0</span><span class="p">)([[</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]]);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">MAP</span><span class="p">(</span><span class="nx">Cab0</span><span class="p">)(</span><span class="nx">dom1D</span><span class="p">));</span>

<span class="kd">var</span> <span class="nx">Cbc0</span> <span class="o">=</span> <span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S0</span><span class="p">)([[</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">]]);</span>
<span class="kd">var</span> <span class="nx">Cbc1</span> <span class="o">=</span> <span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S1</span><span class="p">)([[</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">]]);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">MAP</span><span class="p">(</span><span class="nx">Cbc0</span><span class="p">)(</span><span class="nx">dom1D</span><span class="p">));</span>

<span class="kd">var</span> <span class="nx">Cca0</span> <span class="o">=</span> <span class="nx">BEZIER</span><span class="p">(</span><span class="nx">S0</span><span class="p">)([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="o">-</span><span class="mi">5</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]]);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">MAP</span><span class="p">(</span><span class="nx">Cca0</span><span class="p">)(</span><span class="nx">dom1D</span><span class="p">));</span>

<span class="kd">var</span> <span class="nx">out</span> <span class="o">=</span> <span class="nx">MAP</span><span class="p">(</span><span class="nx">TRIANGULAR_COONS_PATCH</span><span class="p">([</span><span class="nx">Cab0</span><span class="p">,</span><span class="nx">Cbc1</span><span class="p">,</span><span class="nx">Cca0</span><span class="p">]))(</span><span class="nx">dom2D</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">out</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">SKELETON</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="nx">out</span><span class="p">));</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="triangle_domainn-points" class="anchor" href="#triangle_domainn-points"><span class="mini-icon mini-icon-link"></span></a><code>TRIANGLE_DOMAIN(n, points)</code>
</h3>

<p>Create a triangle domain using three points as vertices. Every edge is subdivided in n parts.</p>

<h4>
<a name="io-47" class="anchor" href="#io-47"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-84" class="anchor" href="#in-84"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Number</code> <code>n</code>: number of subdivisions for every edge
<code>Array</code> <code>points</code>: an array of points, represented as arrays of coordinates.</p>

<h4>
<a name="out-84" class="anchor" href="#out-84"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p>instance of <code>plasm.Model</code>: a triangle domain.</p>
</blockquote>

<h4>
<a name="example-45" class="anchor" href="#example-45"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">domTRI</span> <span class="o">=</span> <span class="nx">TRIANGLE_DOMAIN</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]]);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">domTRI</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">SKELETON</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="nx">domTRI</span><span class="p">));</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="triangle_fanpoints" class="anchor" href="#triangle_fanpoints"><span class="mini-icon mini-icon-link"></span></a><code>TRIANGLE_FAN(points)</code>
</h3>

<p>Create a tiangle fan: first point is the center of the fan,<br>
center point is used with next two points to form a triangle.<br>
Every successive point is used with center point and the previuos point to form a triangle.</p>

<h4>
<a name="io-48" class="anchor" href="#io-48"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-85" class="anchor" href="#in-85"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>points</code>: an array of points, represented as arrays of coordinates.</p>

<h4>
<a name="out-85" class="anchor" href="#out-85"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p>instance of <code>plasm.Model</code>: a triangle fan.</p>
</blockquote>

<h4>
<a name="example-46" class="anchor" href="#example-46"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">points</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]];</span>
<span class="kd">var</span> <span class="nx">triStrip</span> <span class="o">=</span> <span class="nx">TRIANGLE_FAN</span><span class="p">(</span><span class="nx">points</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">triStrip</span><span class="p">);</span>
</pre>
</div>

</blockquote>

<hr><h3>
<a name="triangle_strippoints" class="anchor" href="#triangle_strippoints"><span class="mini-icon mini-icon-link"></span></a><code>TRIANGLE_STRIP(points)</code>
</h3>

<p>Create a tiangle strip: first three points made a triangle,<br>
every other point is used with next two points to form a triangle.</p>

<h4>
<a name="io-49" class="anchor" href="#io-49"><span class="mini-icon mini-icon-link"></span></a>I/O</h4>

<blockquote>
<h4>
<a name="in-86" class="anchor" href="#in-86"><span class="mini-icon mini-icon-link"></span></a>in</h4>

<p><code>Array</code> <code>points</code>: an array of points, represented as arrays of coordinates.</p>

<h4>
<a name="out-86" class="anchor" href="#out-86"><span class="mini-icon mini-icon-link"></span></a>out</h4>

<p>instance of <code>plasm.Model</code>: a triangle strip.</p>
</blockquote>

<h4>
<a name="example-47" class="anchor" href="#example-47"><span class="mini-icon mini-icon-link"></span></a>Example</h4>

<blockquote>
<div class="highlight">
<pre><span class="kd">var</span> <span class="nx">points</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]];</span>
<span class="kd">var</span> <span class="nx">triStrip</span> <span class="o">=</span> <span class="nx">TRIANGLE_STRIP</span><span class="p">(</span><span class="nx">points</span><span class="p">);</span>
<span class="nx">DRAW</span><span class="p">(</span><span class="nx">triStrip</span><span class="p">);</span>
</pre>
</div>

</blockquote>
  </div>


  <footer>
    <div id="plasm-inspector"></div>
  </footer>

  <script type="text/template" id="template-showcase">


  <script type="text/template" id="template-showcase">
    {{#showcase}}
      <div class="plasm-sc-element">
          <div class="plasm-sc-act" data-script="{{script}}">
              <img class="snapshot" src="{{imgsrc}}" width="200" height="150" />
          </div>

          <div>
              by <a href="{{autorLink}}">{{autorName}}</a>
          </div>

      </div>
    {{/showcase}}
  </script>

  <script src="support/jquery.js"></script>
  <script src="support/mustache.js"></script>
  <script src="support/numeric.js"></script>
  <script src="support/director.js"></script>
  <script src="support/three.js"></script>
  <script src="support/three-detector.js"></script>
  <script src="support/three-frame.js"></script>
  <script src="support/three-stats.js"></script>
  <script src="support/three-trackball.js"></script>
  <script src="node_modules/simplexn.js/lib/simplexn.js"></script>
  <script src="node_modules/f.js/lib/f.js"></script>
  <script src="lib/plasm.js"></script>
  <script src="lib/plasm-fun.js"></script>
  <script src="lib/plasm-env.js"></script>

  <script>
    p = new Plasm('plasm', 'plasm-inspector');
    fun.PLASM(p);
  </script>

  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-30496335-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); 
      ga.type = 'text/javascript'; 
      ga.async = true;
      ga.src = 'http://www.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; 
      s.parentNode.insertBefore(ga, s);
    })();
  </script>

   <script type="text/javascript">
      $(document).ready(function(){

//LC4 long chair
dark_grey = [0.2, 0.2, 0.2];
red = [192.0/255, 0, 0]

var domainPI = DOMAIN([[0,1],[0,2*PI]])([20,50]);
var domain1D = INTERVALS(1)(20);
var domain2D = DOMAIN([[0,1],[0,1]])([30,30]);
var domain3D = DOMAIN([[0,1],[0,1],[0,1]])([20,10,1]);

//4 SOSTEGNI

//SOSTEGNO FRONT
function getFeetFront(){
  var b1_sx = BEZIER(S0)([[-4.7, 0.1, 0], [-4.5, 0.15, 0]]);
  var b2_sx = BEZIER(S0)([[-4.5, 0.1, 3], [-4, 0.15, 2.7]]);
  var foot_sx_mapping = BEZIER(S1)([b1_sx, b2_sx]);
  var foot_sx = MAP(foot_sx_mapping)(domain2D);

  var b1_sx_2 = BEZIER(S0)([[-4.7, 0.1 +0.1, 0], [-4.5, 0.15 +0.1, 0]]);
  var b2_sx_2 = BEZIER(S0)([[-4.5, 0.1 +0.1, 3], [-4, 0.15 +0.1, 2.7]]);
  var foot_sx_mapping_2 = BEZIER(S1)([b1_sx_2, b2_sx_2]);
  var foot_sx_2 = MAP(foot_sx_mapping_2)(domain2D);

  var surf_foot_sx_1 = BEZIER(S1)([b1_sx, b1_sx_2]);
  surf_foot_sx_1 = MAP(surf_foot_sx_1)(domain2D);
  var surf_foot_sx_2 = BEZIER(S1)([b2_sx, b2_sx_2]);
  surf_foot_sx_2 = MAP(surf_foot_sx_2)(domain2D);

  var bx_1 = BEZIER(S0)([[-4.7, 0.1, 0],[-4.5, 0.1, 3]]);
  var bx_2 = BEZIER(S0)([[-4.7, 0.1 +0.1, 0],[-4.5, 0.1 +0.1, 3]]);
  var surf_foot_sx_3 = BEZIER(S1)([bx_1, bx_2]);
  surf_foot_sx_3 = MAP(surf_foot_sx_3)(domain2D);

  var bx_3 = BEZIER(S0)([[-4.5, 0.15, 0],[-4, 0.15, 2.7]]);
  var bx_4 = BEZIER(S0)([[-4.5, 0.15 +0.1, 0],[-4, 0.15 +0.1, 2.7]]);
  var surf_foot_sx_4 = BEZIER(S1)([bx_3, bx_4]);
  surf_foot_sx_4 = MAP(surf_foot_sx_4)(domain2D);

  ////
  var b1_dx = BEZIER(S0)([[4.5, 0.6, 0], [4.7, 0.65, 0]]);
  var b2_dx = BEZIER(S0)([[4, 0.6, 2.7], [4.5, 0.65, 3]]);
  var foot_dx_mapping = BEZIER(S1)([b1_dx, b2_dx]);
  var foot_dx = MAP(foot_dx_mapping)(domain2D);

  var b1_dx_2 = BEZIER(S0)([[4.5, 0.6 +0.1, 0], [4.7, 0.65 +0.1, 0]]);
  var b2_dx_2 = BEZIER(S0)([[4, 0.6 +0.1, 2.7], [4.5, 0.65 +0.1, 3]]);
  var foot_dx_mapping_2 = BEZIER(S1)([b1_dx_2, b2_dx_2]);
  var foot_dx_2 = MAP(foot_dx_mapping_2)(domain2D);

  var surf_foot_dx_1 = BEZIER(S1)([b1_dx, b1_dx_2]);
  surf_foot_dx_1 = MAP(surf_foot_dx_1)(domain2D);
  var surf_foot_dx_2 = BEZIER(S1)([b2_dx, b2_dx_2]);
  surf_foot_dx_2 = MAP(surf_foot_dx_2)(domain2D);

  var bx_dx_1 = BEZIER(S0)([[4.7, 0.65, 0], [4.7, 0.65 +0.1, 0]]);
  var bx_dx_2 = BEZIER(S0)([[4.5, 0.65, 3], [4.5, 0.65 +0.1, 3]]);
  var surf_foot_dx_3 = BEZIER(S1)([bx_dx_1, bx_dx_2]);
  surf_foot_dx_3 = MAP(surf_foot_dx_3)(domain2D);

  var bx_dx_3 = BEZIER(S0)([[4, 0.6, 2.7], [4.5, 0.6, 0]]);
  var bx_dx_4 = BEZIER(S0)([[4, 0.6 +0.1, 2.7], [4.5, 0.6 +0.1, 0]]);
  var surf_foot_dx_4 = BEZIER(S1)([bx_dx_3, bx_dx_4]);
  surf_foot_dx_4 = MAP(surf_foot_dx_4)(domain2D);
  //
  var feet_front = STRUCT([foot_sx, foot_sx_2, surf_foot_sx_1, surf_foot_sx_2, surf_foot_sx_3, surf_foot_sx_4, 
    foot_dx, foot_dx_2, surf_foot_dx_1, surf_foot_dx_2, surf_foot_dx_3, surf_foot_dx_4 ])
  return COLOR(dark_grey)(feet_front);
}
//SOSTEGNO BACK
function getFeetBack(){
  var b1_sx = BEZIER(S0)([[-4.7, 5.5 -0.1, 0], [-4.5, 5.5 -0.15, 0]]);
  var b2_sx = BEZIER(S0)([[-4.5, 5.5 -0.1, 3], [-4, 5.5 -0.15, 2.7]]);
  var foot_sx_mapping = BEZIER(S1)([b1_sx, b2_sx]);
  var foot_sx = MAP(foot_sx_mapping)(domain2D);

  var b1_sx_2 = BEZIER(S0)([[-4.7, (5.5 -0.1) -0.1, 0], [-4.5, (5.5 -0.15) -0.1, 0]]);
  var b2_sx_2 = BEZIER(S0)([[-4.5, (5.5 -0.1) -0.1, 3], [-4, (5.5 -0.1) -0.1, 2.7]]);
  var foot_sx_mapping_2 = BEZIER(S1)([b1_sx_2, b2_sx_2]);
  var foot_sx_2 = MAP(foot_sx_mapping_2)(domain2D);

  var surf_foot_sx_1 = BEZIER(S1)([b1_sx, b1_sx_2]);
  surf_foot_sx_1 = MAP(surf_foot_sx_1)(domain2D);
  var surf_foot_sx_2 = BEZIER(S1)([b2_sx, b2_sx_2]);
  surf_foot_sx_2 = MAP(surf_foot_sx_2)(domain2D);

  var bx_1 = BEZIER(S0)([[-4.7, 5.5 -0.1, 0],[-4.5, 5.5 -0.1, 3]]);
  var bx_2 = BEZIER(S0)([[-4.7, (5.5 -0.1) -0.1, 0],[-4.5, (5.5 -0.1) -0.1, 3]]);
  var surf_foot_sx_3 = BEZIER(S1)([bx_1, bx_2]);
  surf_foot_sx_3 = MAP(surf_foot_sx_3)(domain2D);


  var bx_3 = BEZIER(S0)([[-4, 5.5 -0.15, 2.7],[-4, (5.5 -0.1) -0.1, 2.7]]);
  var bx_4 = BEZIER(S0)([[-4.5, 5.5 -0.15, 0],[-4.5, (5.5 -0.15) -0.1, 0]]);
  var surf_foot_sx_4 = BEZIER(S1)([bx_3, bx_4]);
  surf_foot_sx_4 = MAP(surf_foot_sx_4)(domain2D);
  
  //// 
  var b1_dx = BEZIER(S0)([[4.5, 5.5 -0.6, 0], [4.7, 5.5 -0.65, 0]]);
  var b2_dx = BEZIER(S0)([[4, 5.5 -0.6, 2.7], [4.5, 5.5 -0.65, 3]]);
  var foot_dx_mapping = BEZIER(S1)([b1_dx, b2_dx]);
  var foot_dx = MAP(foot_dx_mapping)(domain2D);

  var b1_dx_2 = BEZIER(S0)([[4.5, (5.5 -0.6) -0.1, 0], [4.7, (5.5 -0.65) -0.1, 0]]);
  var b2_dx_2 = BEZIER(S0)([[4, (5.5 -0.6) -0.1, 2.7], [4.5, (5.5 -0.65) -0.1, 3]]);
  var foot_dx_mapping_2 = BEZIER(S1)([b1_dx_2, b2_dx_2]);
  var foot_dx_2 = MAP(foot_dx_mapping_2)(domain2D);

  var surf_foot_dx_1 = BEZIER(S1)([b1_dx, b1_dx_2]);
  surf_foot_dx_1 = MAP(surf_foot_dx_1)(domain2D);
  var surf_foot_dx_2 = BEZIER(S1)([b2_dx, b2_dx_2]);
  surf_foot_dx_2 = MAP(surf_foot_dx_2)(domain2D);

  var bx_dx_1 = BEZIER(S0)([[4.7, 5.5-0.65, 0], [4.7, 5.5-0.65 -0.1, 0]]);
  var bx_dx_2 = BEZIER(S0)([[4.5, 5.5-0.65, 3], [4.5, 5.5-0.65 -0.1, 3]]);
  var surf_foot_dx_3 = BEZIER(S1)([bx_dx_1, bx_dx_2]);
  surf_foot_dx_3 = MAP(surf_foot_dx_3)(domain2D);

  var bx_dx_3 = BEZIER(S0)([[4, (5.5 -0.6) , 2.7], [4, 5.5 -0.6 -0.1, 2.7]]);
  var bx_dx_4 = BEZIER(S0)([[4.5, 5.5 -0.6, 0], [4.5, (5.5 -0.6) -0.1, 0]]);
  var surf_foot_dx_4 = BEZIER(S1)([bx_dx_3, bx_dx_4]);
  surf_foot_dx_4 = MAP(surf_foot_dx_4)(domain2D);

  var feet_back = STRUCT([foot_sx, foot_sx_2, surf_foot_sx_1, surf_foot_sx_2, surf_foot_sx_3, surf_foot_sx_4,
    foot_dx, foot_dx_2, surf_foot_dx_1, surf_foot_dx_2, surf_foot_dx_3, surf_foot_dx_4]);
  return COLOR(dark_grey)(feet_back);
}


function getTubeFront(){
  var b1 = BEZIER(S0)([[-7.75 +0.1, 0, 7], [-5, 0.2, 0.9], [0,0.4,0], [4, 0.6, 2.5], [4.5, 0.7, 3], [5.9 -0.1, 0.8, 3.5]]);
  //DRAW(MAP(b1)(INTERVALS(1)(30)));

  var b2 = BEZIER(S0)([[-7.75 +0.1, 0.1, 7], [-5, 0.3, 0.9], [0,0.5,0], [4, 0.7, 2.5], [4.5, 0.8, 3], [5.9 -0.1, 0.9, 3.5]]);
  //DRAW(MAP(b2)(INTERVALS(1)(30)));

  var b12 = BEZIER(S0)([[-7.75 +0.2, 0.05, 7], [-5, 0.1, 1], [0,0.45,0.1], [4, 0.65, 2.6], [4.5, 0.75, 3.1], [5.9 -0.2, 0.85, 3.6]]);
  //DRAW(MAP(b12)(INTERVALS(1)(30)));

  var b21 = BEZIER(S0)([[-7.75 -0.1, 0.05, 7], [-5, 0.1, 0.8], [0,0.45,-0.1], [4, 0.65, 2.4], [4.5, 0.75, 2.9], [5.9, 0.85, 3.4]]);
  //DRAW(MAP(b21)(INTERVALS(1)(30)));

  var t1 = BEZIER(S1)([b1,b12,b2]);
  t1 = MAP(t1)(domain2D);
  var t2 = BEZIER(S1)([b1,b21,b2])
  t2 = MAP(t2)(domain2D);

  return STRUCT([t1, t2])
}

function getTubeBack(){
  var b1 = BEZIER(S0)([[-7.75 +0.1, 5.5, 7], [-5, 5.5-0.2, 0.9], [0, 5.5-0.4, 0], [4, 5.5-0.6, 2.5], [4.5, 5.5-0.7, 3], [5.9 -0.1, 5.5-0.8, 3.5]]);
  var b2 = BEZIER(S0)([[-7.75 +0.1, 5.5-0.1, 7], [-5, 5.5-0.3, 0.9], [0, 5.5-0.5, 0], [4, 5.5-0.7, 2.5], [4.5, 5.5-0.8, 3], [5.9 -0.1, 5.5-0.9, 3.5]]);
  var b12 = BEZIER(S0)([[-7.75 +0.2, 5.5-0.05, 7], [-5, 5.5-0.1, 1], [0, 5.5-0.45, 0.1], [4, 5.5-0.65, 2.6], [4.5, 5.5-0.75, 3.1], [5.9 -0.2, 5.5-0.85, 3.6]]);
  var b21 = BEZIER(S0)([[-7.75 -0.1, 5.5-0.05, 7], [-5, 5.5-0.1, 0.8], [0, 5.5-0.45, -0.1], [4, 5.5-0.65, 2.4], [4.5, 5.5-0.75, 2.9], [5.9, 5.5-0.85, 3.4]]);

  var t1 = BEZIER(S1)([b1,b12,b2]);
  t1 = MAP(t1)(domain2D);
  var t2 = BEZIER(S1)([b1,b21,b2])
  t2 = MAP(t2)(domain2D);

  return STRUCT([t1, t2])
}


function getTrasversalTubes(){
  //PRIMO
  var b11 = BEZIER(S0)([[2.25, 0.6, 1.98], [2.25, 5.5-0.6, 1.98]]);
  var b21 = BEZIER(S0)([[2.25+0.1, 0.6, 1.98], [2.25+0.1, 5.5-0.6, 1.98]]);
  var sur111 = CUBIC_HERMITE(S1)([b11,b21,[0,0,-0.2],[0,0,0.2]]);
  var out11 = MAP(sur111)(domain2D);
  var sur112 = CUBIC_HERMITE(S1)([b11,b21,[0,0,0.2],[0,0,-0.2]]);
  var out12 = MAP(sur112)(domain2D);
  var tube1 = STRUCT([out11, out12]);

  //SECONDO
  var b12 = BEZIER(S0)([[-3.5, 0.25, 2.35], [-3.5, 5.5-0.25, 2.35]]);
  var b22 = BEZIER(S0)([[-3.5-0.1, 0.25, 2.35], [-3.5-0.1, 5.5-0.25, 2.35]]);
  var sur112 = CUBIC_HERMITE(S1)([b12,b22,[0,0,-0.2],[0,0,0.2]]);
  var out12 = MAP(sur112)(domain2D);
  var sur212 = CUBIC_HERMITE(S1)([b12,b22,[0,0,0.2],[0,0,-0.2]]);
  var out22 = MAP(sur212)(domain2D);
  var tube2 = STRUCT([out12, out22]);

  //MICRO RACCORDO VERTICALE
  var br11 = BEZIER(S0)([[-0.05, 0.48, 1.6], [-0.05, 0.48, 2]]);
  var br21 = BEZIER(S0)([[0.05, 0.48, 1.6], [0.05, 0.48, 2]]);
  var sur_r11 = CUBIC_HERMITE(S1)([br11,br21,[0,-0.2,0],[0,0.2,0]]);
  var outr11 = MAP(sur_r11)(domain2D);
  var sur_r12 = CUBIC_HERMITE(S1)([br11,br21,[0,0.2,0],[0,-0.2,0]]);
  var outr12 = MAP(sur_r12)(domain2D);
  var r1 = STRUCT([outr11, outr12]);
  //
  var br12 = BEZIER(S0)([[-0.05, 5.5-0.48, 1.6], [-0.05, 5.5-0.48, 2]]);
  var br22 = BEZIER(S0)([[0.05, 5.5-0.48, 1.6], [0.05, 5.5-0.48, 2]]);
  var sur_r21 = CUBIC_HERMITE(S1)([br12,br22,[0,-0.2,0],[0,0.2,0]]);
  var outr21 = MAP(sur_r21)(domain2D);
  var sur_r22 = CUBIC_HERMITE(S1)([br12,br22,[0,0.2,0],[0,-0.2,0]]);
  var outr22 = MAP(sur_r22)(domain2D);
  var r2 = STRUCT([outr21, outr22]);

  return STRUCT([tube1, tube2, r1, r2]);
}

function getFullCylinder(r, h, dim){
  var cyl = CYL_SURFACE([r,h])(dim);
  var base = DISK(r)(dim);
  var base2 = T([2])([h])(base);
  var fullCylinder = STRUCT([cyl, base, base2]);
  return fullCylinder;
}

//tubi trasversali per i sostegni
function getTrasversalPillars(){
  var trasversalPillar1 = (getFullCylinder(0.15, 5.15, [32,4]));
  trasversalPillar1 = R([1,2])([PI/2])(trasversalPillar1);
  trasversalPillar1 = T([0,1,2])([-4.3, 5.3, 2.55])(trasversalPillar1);

  var trasversalPillar2 = (getFullCylinder(0.15, 4.1, [32,4]));
  trasversalPillar2 = R([1,2])([PI/2])(trasversalPillar2);
  trasversalPillar2 = T([0,1,2])([4.3, 4.8, 2.55])(trasversalPillar2);

  var trasversalPillars = STRUCT([trasversalPillar1, trasversalPillar2]);
  trasversalPillars = COLOR(dark_grey)(trasversalPillars);
  return trasversalPillars;
}

//altri tubi trasversali per i sostegni

function getOvalTrasversalPillars(){
  //ovalpill1
  var b11 = BEZIER(S0)([[0, 0, 0], [0, 0, 0.4]]);
  var b21 = BEZIER(S0)([[0.1, 0, 0], [0.1, 0, 0.4]]);
  var b31 = BEZIER(S0)([[0, 0, 0], [0.05, 0, -0.1], [0.1, 0, 0]]);
  var b41 = BEZIER(S0)([[0, 0, 0.4], [0.05, 0, 0.5], [0.1, 0, 0.4]]);

  var b12 = BEZIER(S0)([[0, 5.2, 0], [0, 5.2, 0.4]]);
  var b22 = BEZIER(S0)([[0.1, 5.2, 0], [0.1, 5.2, 0.4]]);
  var b32 = BEZIER(S0)([[0, 5.2, 0], [0.05, 5.2, -0.1], [0.1, 5.2, 0]]);
  var b42 = BEZIER(S0)([[0, 5.2, 0.4], [0.05, 5.2, 0.5], [0.1, 5.2, 0.4]]);

  var sur11 = BEZIER(S1)([b11, b12]);
  sur11 = MAP(sur11)(domain2D);
  var sur21 = BEZIER(S1)([b21, b22]);
  sur21 = MAP(sur21)(domain2D);
  var sur31 = BEZIER(S1)([b31, b32]);
  sur31 = MAP(sur31)(domain2D);
  var sur41 = BEZIER(S1)([b41, b42]);
  sur41 = MAP(sur41)(domain2D);

  var ovalPill1 = STRUCT([sur11, sur21, sur31, sur41]);
  ovalPill1 = R([0,2])([PI/20])(ovalPill1);
  ovalPill1 = T([0,1,2])([-4.6, 0.15, 0.4])(ovalPill1);
  
  //ovalpill2
  b11 = BEZIER(S0)([[0, 0, 0], [0, 0, 0.4]]);
  b21 = BEZIER(S0)([[0.1, 0, 0], [0.1, 0, 0.4]]);
  b31 = BEZIER(S0)([[0, 0, 0], [0.05, 0, -0.1], [0.1, 0, 0]]);
  b41 = BEZIER(S0)([[0, 0, 0.4], [0.05, 0, 0.5], [0.1, 0, 0.4]]);

  b12 = BEZIER(S0)([[0, 4.2, 0], [0, 4.2, 0.4]]);
  b22 = BEZIER(S0)([[0.1, 4.2, 0], [0.1, 4.2, 0.4]]);
  b32 = BEZIER(S0)([[0, 4.2, 0], [0.05, 4.2, -0.1], [0.1, 4.2, 0]]);
  b42 = BEZIER(S0)([[0, 4.2, 0.4], [0.05, 4.2, 0.5], [0.1, 4.2, 0.4]]);

  var sur12 = BEZIER(S1)([b11, b12]);
  sur12 = MAP(sur12)(domain2D);
  var sur22 = BEZIER(S1)([b21, b22]);
  sur22 = MAP(sur22)(domain2D);
  var sur32 = BEZIER(S1)([b31, b32]);
  sur32 = MAP(sur32)(domain2D);
  var sur42 = BEZIER(S1)([b41, b42]);
  sur42 = MAP(sur42)(domain2D);

  var ovalPill2 = STRUCT([sur12, sur22, sur32, sur42]);
  ovalPill2 = R([0,2])([-PI/20])(ovalPill2);
  ovalPill2 = T([0,1,2])([4.6-0.1, 0.65, 0.4])(ovalPill2);

  //ovalpill3
  b11 = BEZIER(S0)([[0, 0, 0], [0, 0.05, 0.4]]);
  b21 = BEZIER(S0)([[0.1, 0, 0], [0.1, 0.05, 0.4]]);
  b31 = BEZIER(S0)([[0, 0, 0], [0.05, 0, -0.1], [0.1, 0, 0]]);
  b41 = BEZIER(S0)([[0, 0.05, 0.4], [0.05, 0.05, 0.5], [0.1, 0.05, 0.4]]);

  b12 = BEZIER(S0)([[0, 9.1, 0], [0, 9.1-0.05, 0.4]]);
  b22 = BEZIER(S0)([[0.1, 9.1, 0], [0.1, 9.1-0.05, 0.4]]);
  b32 = BEZIER(S0)([[0, 9.1, 0], [0.05, 9.1, -0.1], [0.1, 9.1, 0]]);
  b42 = BEZIER(S0)([[0, 9.1-0.05, 0.4], [0.05, 9.1-0.05, 0.5], [0.1, 9.1-0.05, 0.4]]);
  
  var sur13 = BEZIER(S1)([b11, b12]);
  sur13 = MAP(sur13)(domain2D);
  var sur23 = BEZIER(S1)([b21, b22]);
  sur23 = MAP(sur23)(domain2D);
  var sur33 = BEZIER(S1)([b31, b32]);
  sur33 = MAP(sur33)(domain2D);
  var sur43 = BEZIER(S1)([b41, b42]);
  sur43= MAP(sur43)(domain2D);

  var ovalPill3 = STRUCT([sur13, sur23, sur33, sur43]);
  ovalPill3 = R([0,1])([PI/2])(ovalPill3);
  ovalPill3 = T([0,1,2])([4.55, 2.8 -0.05, 0.4])(ovalPill3);

  var model = STRUCT([ovalPill1, ovalPill2, ovalPill3]);
  return COLOR(dark_grey)(model);
}


function getUpperFrontalTubes(){
  var b1 = BEZIER(S0)([[-8.3, 0, 6.35], [-7.5, 0, 7.6], [-6.3, 0.05, 7.4], [-6.4 , 0.1, 5.75]]);
  var b2 = BEZIER(S0)([[-6.4, 0.1, 5.75], [-6.3, 0.1, 5.7], [-0.1, 0.43, 2 +0.05]]);
  var b23 = BEZIER(S0)([[-0.1, 0.43, 2+0.05], [0, 0.43, 2], [0.1, 0.435, 2 +0.05]]);
  var b3 = BEZIER(S0)([[0.1, 0.435, 2 +0.05], [3.8, 0.6, 4.15]]);
  var b34 = BEZIER(S0)([[3.8, 0.6, 4.15], [3.9, 0.61, 4.2], [4, 0.62, 4.15]]);
  var b4 = BEZIER(S0)([[4, 0.62, 4.15], [5.9, 0.82, 3.5], [6.8, 0.85, 3.1]]);
  var b5 = BEZIER(S0)([[6.8, 0.85, 3.1], [6.9, 0.86, 3], [6.6, 0.865, 2.3]]);

  //di fianco
  var b11 = BEZIER(S0)([[-8.3, 0.1, 6.35], [-7.5, 0.1, 7.6], [-6.3, 0.1+0.05, 7.4], [-6.4 , 0.1+0.1, 5.75]]);
  var b21 = BEZIER(S0)([[-6.4, 0.1+0.1, 5.75], [-6.3, 0.1+0.1, 5.7], [-0.1, 0.1+0.43, 2 +0.05]]);
  var b231 = BEZIER(S0)([[-0.1, 0.1+0.43, 2+0.05], [0, 0.1+0.43, 2], [0.1, 0.1+0.435, 2 +0.05]]);
  var b31 = BEZIER(S0)([[0.1, 0.1+0.435, 2 +0.05], [3.8, 0.1+0.6, 4.15]]);
  var b341 = BEZIER(S0)([[3.8, 0.1+0.6, 4.15], [3.9, 0.1+0.61, 4.2], [4, 0.1+0.62, 4.15]]);
  var b41 = BEZIER(S0)([[4, 0.1+0.62, 4.15], [5.9, 0.1+0.82, 3.5], [6.8, 0.1+0.85, 3.1]]);
  var b51 = BEZIER(S0)([[6.8, 0.1+0.85, 3.1], [6.9, 0.1+0.86, 3], [6.6, 0.1+0.865, 2.3]]);
  
  //sopra
  var b12 = BEZIER(S0)([[-8.3, 0.05, 6.35 +0.1 +0.1], [-7.5, 0.05, 7.6 +0.1], [-6.3 +0.1, 0.1, 7.4 +0.1], [-6.4 +0.1, 0.15, 5.75 /*+0.1*/]]);
  var b22 = BEZIER(S0)([[-6.4, 0.15, 5.75 +0.1], [-6.3, 0.15, 5.7 +0.1], [-0.1, 0.48, 2 +0.05 +0.1]]);
  var b232 = BEZIER(S0)([[-0.1, 0.48, 2+0.05 +0.1], [0, 0.48, 2 +0.1], [0.1, 0.475, 2 +0.05 +0.1]]);
  var b32 = BEZIER(S0)([[0.1, 0.475, 2 +0.05 +0.1], [3.8, 0.65, 4.15 +0.1]]);
  var b342 = BEZIER(S0)([[3.8, 0.65, 4.15 +0.1], [3.9, 0.655, 4.2 +0.1], [4, 0.66, 4.15 +0.1]]);
  var b42 = BEZIER(S0)([[4, 0.66, 4.15 +0.1], [5.9, 0.87, 3.5 +0.1], [6.8, 0.9, 3.1 +0.1]]);
  //var b52 = BEZIER(S0)([[6.8, 4.6, 3.1 +0.1], [6.9, 4.59, 3 +0.1], [6.6, 4.585, 2.3 +0.1]]);
  var b52 = BEZIER(S0)([[6.8, 0.9, 3.1 +0.1], [6.9+0.2, 0.91, 3 +0.1], [6.6+0.15, 0.915, 2.3 +0.1] ,[6.6 +0.05, 0.915, 2.3 -0.1]]);
  
  //sotto
  var b13 = BEZIER(S0)([[-8.3, 0.05, 6.35 -0.1], [-7.5, 0.05, 7.6 -0.1], [-6.3 -0.1, 0.1, 7.4 -0.1], [-6.4 -0.1, 0.15, 5.75 -0.1]]);
  var b23_3 = BEZIER(S0)([[-6.4 -0.1, 0.15, 5.75 -0.1], [-6.3, 0.15, 5.7 -0.1], [-0.1, 0.48, 2 +0.05 -0.1]]);
  var b233 = BEZIER(S0)([[-0.1, 0.48, 2+0.05 -0.1], [0, 0.48, 2 -0.1], [0.1, 0.475, 2 +0.05 -0.1]]);
  var b33 = BEZIER(S0)([[0.1, 0.475, 2 +0.05 -0.1], [3.8, 0.65, 4.15 -0.1]]);
  var b343 = BEZIER(S0)([[3.8, 0.65, 4.15 -0.1], [3.9, 0.655, 4.2 -0.1], [4, 0.66, 4.15 -0.1]]);
  var b43 = BEZIER(S0)([[4, 0.66, 4.15 -0.1], [5.9, 0.87, 3.5 -0.1], [6.8, 0.9, 3.1 -0.1]]);
  //var b53 = BEZIER(S0)([[6.8, 4.6, 3.1 -0.1], [6.9, 4.59, 3 -0.1], [6.6, 4.585, 2.3 -0.1]]);
  var b53 = BEZIER(S0)([[6.8, 0.9, 3.1 -0.1], [6.9-0.1, 0.91, 3 -0.1], [6.6-0.1, 0.915, 2.3 -0.1]]);

  var sur11 = BEZIER(S1)([b1, b12, b11]);
  sur11 = MAP(sur11)(domain2D);
  var sur21 = BEZIER(S1)([b2, b22, b21]);
  sur21 = MAP(sur21)(domain2D);
  var sur231 = BEZIER(S1)([b23, b232, b231]);
  sur231 = MAP(sur231)(domain2D);
  var sur31 = BEZIER(S1)([b3, b32, b31]);
  sur31 = MAP(sur31)(domain2D);
  var sur341 = BEZIER(S1)([b34, b342, b341]);
  sur341 = MAP(sur341)(domain2D);
  var sur41 = BEZIER(S1)([b4, b42, b41]);
  sur41 = MAP(sur41)(domain2D);
  var sur51 = BEZIER(S1)([b5, b52, b51]);
  sur51 = MAP(sur51)(domain2D);
  //
  var sur12 = BEZIER(S1)([b1, b13, b11]);
  sur12 = MAP(sur12)(domain2D);
  var sur22 = BEZIER(S1)([b2, b23_3, b21]);
  sur22 = MAP(sur22)(domain2D);
  var sur232 = BEZIER(S1)([b23, b233, b231]);
  sur232 = MAP(sur232)(domain2D);
  var sur32 = BEZIER(S1)([b3, b33, b31]);
  sur32 = MAP(sur32)(domain2D);
  var sur342 = BEZIER(S1)([b34, b343, b341]);
  sur342 = MAP(sur342)(domain2D);
  var sur42 = BEZIER(S1)([b4, b43, b41]);
  sur42 = MAP(sur42)(domain2D);
  var sur52 = BEZIER(S1)([b5, b53, b51]);
  sur52 = MAP(sur52)(domain2D);

  var tubeUpperFront = STRUCT([sur11, sur21, sur231, sur31, sur341, sur41, sur51,
    sur12, sur22, sur232, sur32, sur342, sur42, sur52]);
  return tubeUpperFront;

}

function getUpperBackTubes(){
  var b1 = BEZIER(S0)([[-8.3, 5.5, 6.35], [-7.5, 5.5, 7.6], [-6.3, 5.5-0.05, 7.4], [-6.4, 5.5-0.1, 5.75]]);
  var b2 = BEZIER(S0)([[-6.4, 5.5-0.1, 5.75], [-6.3, 5.5-0.1, 5.7], [-0.1, 5.5-0.43, 2 +0.05]]);
  var b23 = BEZIER(S0)([[-0.1, 5.5-0.43, 2+0.05], [0, 5.5-0.43, 2], [0.1, 5.5-0.435, 2 +0.05]]);
  var b3 = BEZIER(S0)([[0.1, 5.5-0.435, 2 +0.05], [3.8, 5.5-0.6, 4.15]]);
  var b34 = BEZIER(S0)([[3.8, 5.5-0.6, 4.15], [3.9, 5.5-0.61, 4.2], [4, 5.5-0.62, 4.15]]);
  var b4 = BEZIER(S0)([[4, 5.5-0.62, 4.15], [5.9, 5.5-0.82, 3.5], [6.8, 5.5-0.85, 3.1]]);
  var b5 = BEZIER(S0)([[6.8, 5.5-0.85, 3.1], [6.9, 5.5-0.86, 3], [6.6, 5.5-0.865, 2.3]]);

  //di fianco
  var b11 = BEZIER(S0)([[-8.3, 5.5-0.1, 6.35], [-7.5, 5.5-0.1, 7.6], [-6.3, 5.5-0.05-0.1, 7.4], [-6.4, 5.5-0.1-0.1, 5.75]]);
  var b21 = BEZIER(S0)([[-6.4, 5.5-0.1-0.1, 5.75], [-6.3, 5.5-0.1-0.1, 5.7], [-0.1, 5.5-0.43-0.1, 2 +0.05]]);
  var b231 = BEZIER(S0)([[-0.1, 5.5-0.43-0.1, 2+0.05], [0, 5.5-0.43-0.1, 2], [0.1, 5.5-0.435-0.1, 2 +0.05]]);
  var b31 = BEZIER(S0)([[0.1, 5.5-0.435-0.1, 2 +0.05], [3.8, 5.5-0.6-0.1, 4.15]]);
  var b341 = BEZIER(S0)([[3.8, 5.5-0.6-0.1, 4.15], [3.9, 5.5-0.61-0.1, 4.2], [4, 5.5-0.62-0.1, 4.15]]);
  var b41 = BEZIER(S0)([[4, 5.5-0.62-0.1, 4.15], [5.9, 5.5-0.82-0.1, 3.5], [6.8, 5.5-0.85-0.1, 3.1]]);
  var b51 = BEZIER(S0)([[6.8, 5.5-0.85-0.1, 3.1], [6.9, 5.5-0.86-0.1, 3], [6.6, 5.5-0.865-0.1, 2.3]]);
  
  //sopra
  var b12 = BEZIER(S0)([[-8.3, 5.5-0.05, 6.35 +0.1 +0.1], [-7.5, 5.5-0.05, 7.6 +0.1], [-6.3+0.1, 5.5-0.1, 7.4 +0.1], [-6.4 +0.1, 5.5-0.15, 5.75 +0.1]]);
  var b22 = BEZIER(S0)([[-6.4, 5.5-0.15, 5.75 +0.1], [-6.3, 5.5-0.15, 5.7 +0.1], [-0.1, 5.02, 2 +0.05 +0.1]]);
  var b232 = BEZIER(S0)([[-0.1, 5.02, 2+0.05 +0.1], [0, 5.02, 2 +0.1], [0.1, 5.015, 2 +0.05 +0.1]]);
  var b32 = BEZIER(S0)([[0.1, 5.015, 2 +0.05 +0.1], [3.8, 5.5-0.65, 4.15 +0.1]]);
  var b342 = BEZIER(S0)([[3.8, 5.5-0.65, 4.15 +0.1], [3.9, 5.5-0.655, 4.2 +0.1], [4, 5.5-0.66, 4.15 +0.1]]);
  var b42 = BEZIER(S0)([[4, 5.5-0.66, 4.15 +0.1], [5.9, 4.63, 3.5 +0.1], [6.8, 4.6, 3.1 +0.1]]);
  //var b52 = BEZIER(S0)([[6.8, 4.6, 3.1 +0.1], [6.9, 4.59, 3 +0.1], [6.6, 4.585, 2.3 +0.1]]);
  var b52 = BEZIER(S0)([[6.8, 4.6, 3.1 +0.1], [6.9+0.2, 4.59, 3 +0.1], [6.6+0.15, 4.585, 2.3 +0.1] ,[6.6 +0.05, 4.585, 2.3 -0.1]]);

  //sotto
  var b13 = BEZIER(S0)([[-8.3, 5.5-0.05, 6.35 -0.1], [-7.5, 5.5-0.05, 7.6 -0.1], [-6.3-0.1, 5.5-0.1, 7.4 -0.1], [-6.4 -0.1, 5.5-0.15, 5.75 -0.1]]);
  var b23_3 = BEZIER(S0)([[-6.4 -0.1, 5.5-0.15, 5.75 -0.1], [-6.3, 5.5-0.15, 5.7 -0.1], [-0.1, 5.02, 2 +0.05 -0.1]]);
  var b233 = BEZIER(S0)([[-0.1, 5.02, 2+0.05 -0.1], [0, 5.02, 2 -0.1], [0.1, 5.015, 2 +0.05 -0.1]]);
  var b33 = BEZIER(S0)([[0.1, 5.015, 2 +0.05 -0.1], [3.8, 5.5-0.65, 4.15 -0.1]]);
  var b343 = BEZIER(S0)([[3.8, 5.5-0.65, 4.15 -0.1], [3.9, 5.5-0.655, 4.2 -0.1], [4, 5.5-0.66, 4.15 -0.1]]);
  var b43 = BEZIER(S0)([[4, 5.5-0.66, 4.15 -0.1], [5.9, 4.63, 3.5 -0.1], [6.8, 4.6, 3.1 -0.1]]);
  //var b53 = BEZIER(S0)([[6.8, 4.6, 3.1 -0.1], [6.9, 4.59, 3 -0.1], [6.6, 4.585, 2.3 -0.1]]);
  var b53 = BEZIER(S0)([[6.8, 4.6, 3.1 -0.1], [6.9-0.1, 4.59, 3 -0.1], [6.6-0.1, 4.585, 2.3 -0.1]]);

  var sur11 = BEZIER(S1)([b1, b12, b11]);
  sur11 = MAP(sur11)(domain2D);
  var sur21 = BEZIER(S1)([b2, b22, b21]);
  sur21 = MAP(sur21)(domain2D);
  var sur231 = BEZIER(S1)([b23, b232, b231]);
  sur231 = MAP(sur231)(domain2D);
  var sur31 = BEZIER(S1)([b3, b32, b31]);
  sur31 = MAP(sur31)(domain2D);
  var sur341 = BEZIER(S1)([b34, b342, b341]);
  sur341 = MAP(sur341)(domain2D);
  var sur41 = BEZIER(S1)([b4, b42, b41]);
  sur41 = MAP(sur41)(domain2D);
  var sur51 = BEZIER(S1)([b5, b52, b51]);
  sur51 = MAP(sur51)(domain2D);
  
  //
  var sur12 = BEZIER(S1)([b1, b13, b11]);
  sur12 = MAP(sur12)(domain2D);
  var sur22 = BEZIER(S1)([b2, b23_3, b21]);
  sur22 = MAP(sur22)(domain2D);
  var sur232 = BEZIER(S1)([b23, b233, b231]);
  sur232 = MAP(sur232)(domain2D);
  var sur32 = BEZIER(S1)([b3, b33, b31]);
  sur32 = MAP(sur32)(domain2D);
  var sur342 = BEZIER(S1)([b34, b343, b341]);
  sur342 = MAP(sur342)(domain2D);
  var sur42 = BEZIER(S1)([b4, b43, b41]);
  sur42 = MAP(sur42)(domain2D);
  var sur52 = BEZIER(S1)([b5, b53, b51]);
  sur52 = MAP(sur52)(domain2D);
  
  var tubeUpperBack = STRUCT([sur11, sur21, sur231, sur31, sur341, sur41, sur51,
    sur12, sur22, sur232, sur32, sur342, sur42, sur52]);
  return tubeUpperBack;
}

function trasversalUpperTube_1() {
  var b1 = BEZIER(S0)([[-8.3, 5.5-0.1, 6.35],[-8.4, 5.5-0.1, 6.25], [-8.4, 5.4-0.1, 6.25]]);
  var b2 = BEZIER(S0)([[-8.3, 5.5, 6.35],[-8.5, 5.45, 6.25], [-8.5, 5.4-0.1, 6.25]]);
  var b12 = BEZIER(S0)([[-8.3, 5.5-0.05, 6.35 +0.1 +0.1],[-8.45, 5.5-0.05, 6.25+0.1], [-8.45, 5.4-0.1, 6.25+0.1]]);
  var b13 = BEZIER(S0)([[-8.3, 5.5-0.05, 6.35 -0.1],[-8.45, 5.5-0.05, 6.25-0.1], [-8.45, 5.4-0.1, 6.25-0.1]]);
  var sur11 = BEZIER(S1)([b1, b12, b2]);
  sur11 = MAP(sur11)(domain2D);
  var sur12 = BEZIER(S1)([b1, b13, b2]);
  sur12 = MAP(sur12)(domain2D);
  var r1 = STRUCT([sur11, sur12]);

  var b11 = BEZIER(S0)([[-8.3, 0.1, 6.35], [-8.4, 0.1, 6.25], [-8.4, 0.2, 6.25]]);
  var b12 = BEZIER(S0)([[-8.3, 0, 6.35], [-8.5, 0.05, 6.25], [-8.5, 0.2, 6.25]]);
  var b112 = BEZIER(S0)([[-8.3, 0.05, 6.35 +0.1 +0.1], [-8.45, 0.05, 6.25+0.1], [-8.45, 0.2, 6.25+0.1]]);
  var b113 = BEZIER(S0)([[-8.3, 0.05, 6.35 -0.1], [-8.45, 0.05, 6.25-0.1], [-8.45, 0.2, 6.25-0.1]]);
  var sur21 = BEZIER(S1)([b11, b112, b12]);
  sur21 = MAP(sur21)(domain2D);
  var sur22 = BEZIER(S1)([b11, b113, b12]);
  sur22 = MAP(sur22)(domain2D);
  var r2 = STRUCT([sur21, sur22]);

  var bx1 = BEZIER(S0)([[-8.4, 5.4-0.1, 6.25], [-8.4, 0.2, 6.25]]);
  var bx2 = BEZIER(S0)([[-8.5, 5.4-0.1, 6.25], [-8.5, 0.2, 6.25]]);
  var bx3 = BEZIER(S0)([[-8.45, 5.4-0.1, 6.25+0.1], [-8.45, 0.2, 6.25+0.1]]);
  var bx4 = BEZIER(S0)([[-8.45, 5.4-0.1, 6.25-0.1], [-8.45, 0.2, 6.25-0.1]]);
  var surx1 = BEZIER(S1)([bx1,bx3,bx2]);
  surx1 = MAP(surx1)(domain2D);
  var surx2 = BEZIER(S1)([bx1,bx4,bx2]);
  surx2 = MAP(surx2)(domain2D);
  var rx = STRUCT([surx1, surx2]);

  return STRUCT([r1,r2,rx]);
}

function trasversalUpperTube_2() {
  var b1 = BEZIER(S0)([[6.6, 5.5-0.865, 2.3],[6.55, 5.5-0.865, 2.15], [6.5, 5.5-0.865-0.2, 2.15]]);
  var b2 = BEZIER(S0)([[6.6, 5.5-0.865-0.1, 2.3],[6.55, 5.5-0.865-0.1, 2.25], [6.55, 5.5-0.865-0.2, 2.25]]);
  var b12 = BEZIER(S0)([[6.6 +0.072, 4.585, 2.25], [6.6+0.05,  4.585, 2.2], [6.65, 5.5-0.865-0.2, 2.18]]);
  var b13 = BEZIER(S0)([[6.6-0.1 +0.02, 4.585, 2.25],[6.6 -0.1, 4.585, 2.2], [6.55 -0.1, 5.5-0.865-0.2, 2.2]]);
  var sur11 = BEZIER(S1)([b1, b12, b2]);
  sur11 = MAP(sur11)(domain2D);
  var sur12 = BEZIER(S1)([b1, b13, b2]);
  sur12 = MAP(sur12)(domain2D);
  var r1 = STRUCT([sur11, sur12]);

  var b11 = BEZIER(S0)([[6.6, 0.865, 2.3],[6.55, 0.865, 2.15], [6.5, 0.865+0.2, 2.15]]);
  var b12 = BEZIER(S0)([[6.6, 0.865+0.1, 2.3],[6.55, 0.865+0.1, 2.25], [6.55, 0.865+0.2, 2.25]]);
  var b112 = BEZIER(S0)([[6.6 +0.072, 0.915, 2.25], [6.6+0.05,  0.915, 2.2], [6.65, 0.865+0.2, 2.18]]);
  var b113 = BEZIER(S0)([[6.6-0.1 +0.02, 0.915, 2.25],[6.6 -0.1, 0.915, 2.2], [6.55 -0.1, 0.865+0.2, 2.2]]);
  var sur21 = BEZIER(S1)([b11, b112, b12]);
  sur21 = MAP(sur21)(domain2D);
  var sur22 = BEZIER(S1)([b11, b113, b12]);
  sur22 = MAP(sur22)(domain2D);
  var r2 = STRUCT([sur21, sur22]);

  var bx1 = BEZIER(S0)([[6.5, 5.5-0.865-0.2, 2.15], [6.5, 0.865+0.2, 2.15]]);
  var bx2 = BEZIER(S0)([[6.55, 5.5-0.865-0.2, 2.25], [6.55, 0.865+0.2, 2.25]]);
  var bx3 = BEZIER(S0)([[6.65, 5.5-0.865-0.2, 2.18], [6.65, 0.865+0.2, 2.18]]);
  var bx4 = BEZIER(S0)([[6.55 -0.1, 5.5-0.865-0.2, 2.2], [6.55 -0.1, 0.865+0.2, 2.2]]);
  var surx1 = BEZIER(S1)([bx1,bx3,bx2]);
  surx1 = MAP(surx1)(domain2D);
  var surx2 = BEZIER(S1)([bx1,bx4,bx2]);
  surx2 = MAP(surx2)(domain2D);
  var rx = STRUCT([surx1, surx2]);

  return STRUCT([r1,r2,rx]);
}

function getTable() {
  var bx1 = BEZIER(S0)([[-8.3, 0.1, 6.35], [-7.5, 0.1, 7.6], [-6.3, 0.1+0.05, 7.4], [-6.4 , 0.1+0.1, 5.75]]);
  var bx2 = BEZIER(S0)([[-8.3, 5.5-0.1, 6.35], [-7.5, 5.5-0.1, 7.6], [-6.3, 5.5-0.05-0.1, 7.4], [-6.4, 5.5-0.1-0.1, 5.75]]);
  var s11 = BEZIER(S1)([bx1, bx2]);
  s11 = MAP(s11)(domain2D);

  bx1 = BEZIER(S0)([[-6.4, 0.1+0.1, 5.75], [-6.3, 0.1+0.1, 5.7], [-0.1, 0.1+0.43, 2 +0.05]]);
  bx2 = BEZIER(S0)([[-6.4, 5.5-0.1-0.1, 5.75], [-6.3, 5.5-0.1-0.1, 5.7], [-0.1, 5.5-0.43-0.1, 2 +0.05]]);
  var s12 = BEZIER(S1)([bx1, bx2]);
  s12 = MAP(s12)(domain2D);

  bx1 = BEZIER(S0)([[-0.1, 0.1+0.43, 2+0.05], [0, 0.1+0.43, 2], [0.1, 0.1+0.435, 2 +0.05]]);
  bx2 = BEZIER(S0)([[-0.1, 5.5-0.43-0.1, 2+0.05], [0, 5.5-0.43-0.1, 2], [0.1, 5.5-0.435-0.1, 2 +0.05]]);
  var s13 = BEZIER(S1)([bx1, bx2]);
  s13 = MAP(s13)(domain2D);

  bx1 = BEZIER(S0)([[0.1, 0.1+0.435, 2 +0.05], [3.8, 0.1+0.6, 4.15]]);
  bx2 = BEZIER(S0)([[0.1, 5.5-0.435-0.1, 2 +0.05], [3.8, 5.5-0.6-0.1, 4.15]]);
  var s14 = BEZIER(S1)([bx1, bx2]);
  s14 = MAP(s14)(domain2D);

  bx1 = BEZIER(S0)([[3.8, 0.1+0.6, 4.15], [3.9, 0.1+0.61, 4.2], [4, 0.1+0.62, 4.15]]);
  bx2 = BEZIER(S0)([[3.8, 5.5-0.6-0.1, 4.15], [3.9, 5.5-0.61-0.1, 4.2], [4, 5.5-0.62-0.1, 4.15]]);
  var s15 = BEZIER(S1)([bx1, bx2]);
  s15 = MAP(s15)(domain2D);

  bx1 = BEZIER(S0)([[4, 0.1+0.62, 4.15], [5.9, 0.1+0.82, 3.5], [6.8, 0.1+0.85, 3.1]]);
  bx2 = BEZIER(S0)([[4, 5.5-0.62-0.1, 4.15], [5.9, 5.5-0.82-0.1, 3.5], [6.8, 5.5-0.85-0.1, 3.1]]);
  var s16 = BEZIER(S1)([bx1, bx2]);
  s16 = MAP(s16)(domain2D);

  //sopra
  delta  = 0.3
  bx1 = BEZIER(S0)([[-8.3, 0.1, 6.35 +delta], [-7.5, 0.1, 7.6+delta], [-6.3 +0.1, 0.1+0.05, 7.4+delta], [-6.4 +0.3 , 0.1+0.1, 5.75+delta -0.25]]);
  bx2 = BEZIER(S0)([[-8.3, 5.5-0.1, 6.35+delta], [-7.5, 5.5-0.1, 7.6+delta], [-6.3 +0.1, 5.5-0.05-0.1, 7.4+delta], [-6.4 +0.3, 5.5-0.1-0.1, 5.75+delta -0.25]]);
  var s21 = BEZIER(S1)([bx1, bx2]);
  s21 = MAP(s21)(domain2D);

  bx1 = BEZIER(S0)([[-6.4, 0.1+0.1, 5.75+delta], [-6.3, 0.1+0.1, 5.7+delta], [-0.1, 0.1+0.43, 2 +0.05+delta]]);
  bx2 = BEZIER(S0)([[-6.4, 5.5-0.1-0.1, 5.75+delta], [-6.3, 5.5-0.1-0.1, 5.7+delta], [-0.1, 5.5-0.43-0.1, 2 +0.05+delta]]);
  var s22 = BEZIER(S1)([bx1, bx2]);
  s22 = MAP(s22)(domain2D);

  bx1 = BEZIER(S0)([[-0.1, 0.1+0.43, 2+0.05+delta], [0, 0.1+0.43, 2+delta], [0.1, 0.1+0.435, 2 +0.05+delta]]);
  bx2 = BEZIER(S0)([[-0.1, 5.5-0.43-0.1, 2+0.05+delta], [0, 5.5-0.43-0.1, 2+delta], [0.1, 5.5-0.435-0.1, 2 +0.05+delta]]);
  var s23 = BEZIER(S1)([bx1, bx2]);
  s23 = MAP(s23)(domain2D);

  bx1 = BEZIER(S0)([[0.1, 0.1+0.435, 2 +0.05+delta], [3.8, 0.1+0.6, 4.15+delta]]);
  bx2 = BEZIER(S0)([[0.1, 5.5-0.435-0.1, 2 +0.05+delta], [3.8, 5.5-0.6-0.1, 4.15+delta]]);
  var s24 = BEZIER(S1)([bx1, bx2]);
  s24 = MAP(s24)(domain2D);

  bx1 = BEZIER(S0)([[3.8, 0.1+0.6, 4.15+delta], [3.9, 0.1+0.61, 4.2+delta], [4, 0.1+0.62, 4.15+delta]]);
  bx2 = BEZIER(S0)([[3.8, 5.5-0.6-0.1, 4.15+delta], [3.9, 5.5-0.61-0.1, 4.2+delta], [4, 5.5-0.62-0.1, 4.15+delta]]);
  var s25 = BEZIER(S1)([bx1, bx2]);
  s25 = MAP(s25)(domain2D);

  bx1 = BEZIER(S0)([[4, 0.1+0.62, 4.15+delta], [5.9, 0.1+0.82, 3.5+delta], [6.8 +0.1, 0.1+0.85, 3.1+delta]]);
  bx2 = BEZIER(S0)([[4, 5.5-0.62-0.1, 4.15+delta], [5.9, 5.5-0.82-0.1, 3.5+delta], [6.8 +0.1, 5.5-0.85-0.1, 3.1+delta]]);
  var s26 = BEZIER(S1)([bx1, bx2]);
  s26 = MAP(s26)(domain2D);

  //bordi
  bx1 = BEZIER(S0)([[-8.3, 0.1, 6.35], [-7.5, 0.1, 7.6], [-6.3, 0.1+0.05, 7.4], [-6.4 , 0.1+0.1, 5.75]]);
  bx2 = BEZIER(S0)([[-8.3, 0.1, 6.35 +delta], [-7.5, 0.1, 7.6+delta], [-6.3 +0.1, 0.1+0.05, 7.4+delta], [-6.4 +0.3 , 0.1+0.1, 5.75+delta -0.25]]);
  var s31_1 = BEZIER(S1)([bx1, bx2]);
  s31_1 = MAP(s31_1)(domain2D);

  bx1 = BEZIER(S0)([[-8.3, 5.5-0.1, 6.35], [-7.5, 5.5-0.1, 7.6], [-6.3, 5.5-0.05-0.1, 7.4], [-6.4, 5.5-0.1-0.1, 5.75]]);
  bx2 = BEZIER(S0)([[-8.3, 5.5-0.1, 6.35+delta], [-7.5, 5.5-0.1, 7.6+delta], [-6.3 +0.1, 5.5-0.05-0.1, 7.4+delta], [-6.4 +0.3, 5.5-0.1-0.1, 5.75+delta -0.25]]);
  var s31_2 = BEZIER(S1)([bx1, bx2]);
  s31_2 = MAP(s31_2)(domain2D);

  bx1 = BEZIER(S0)([[-6.4, 0.1+0.1, 5.75], [-6.3, 0.1+0.1, 5.7], [-0.1, 0.1+0.43, 2 +0.05]]);
  bx2 = BEZIER(S0)([[-6.4, 0.1+0.1, 5.75+delta], [-6.3, 0.1+0.1, 5.7+delta], [-0.1, 0.1+0.43, 2 +0.05+delta]]);
  var s32_1 = BEZIER(S1)([bx1, bx2]);
  s32_1 = MAP(s32_1)(domain2D);

  bx1 = BEZIER(S0)([[-6.4, 5.5-0.1-0.1, 5.75], [-6.3, 5.5-0.1-0.1, 5.7], [-0.1, 5.5-0.43-0.1, 2 +0.05]]);
  bx2 = BEZIER(S0)([[-6.4, 5.5-0.1-0.1, 5.75+delta], [-6.3, 5.5-0.1-0.1, 5.7+delta], [-0.1, 5.5-0.43-0.1, 2 +0.05+delta]]);
  var s32_2 = BEZIER(S1)([bx1, bx2]);
  s32_2 = MAP(s32_2)(domain2D);

  bx1 = BEZIER(S0)([[-0.1, 0.1+0.43, 2+0.05], [0, 0.1+0.43, 2], [0.1, 0.1+0.435, 2 +0.05]]);
  bx2 = BEZIER(S0)([[-0.1, 0.1+0.43, 2+0.05+delta], [0, 0.1+0.43, 2+delta], [0.1, 0.1+0.435, 2 +0.05+delta]]);
  var s33_1 = BEZIER(S1)([bx1, bx2]);
  s33_1 = MAP(s33_1)(domain2D);

  bx1 = BEZIER(S0)([[-0.1, 5.5-0.43-0.1, 2+0.05], [0, 5.5-0.43-0.1, 2], [0.1, 5.5-0.435-0.1, 2 +0.05]]);
  bx2 = BEZIER(S0)([[-0.1, 5.5-0.43-0.1, 2+0.05+delta], [0, 5.5-0.43-0.1, 2+delta], [0.1, 5.5-0.435-0.1, 2 +0.05+delta]]);
  var s33_2 = BEZIER(S1)([bx1, bx2]);
  s33_2 = MAP(s33_2)(domain2D);

  bx1 = BEZIER(S0)([[0.1, 0.1+0.435, 2 +0.05], [3.8, 0.1+0.6, 4.15]]);
  bx2 = BEZIER(S0)([[0.1, 0.1+0.435, 2 +0.05+delta], [3.8, 0.1+0.6, 4.15+delta]]);
  var s34_1 = BEZIER(S1)([bx1, bx2]);
  s34_1 = MAP(s34_1)(domain2D);

  bx1 = BEZIER(S0)([[0.1, 5.5-0.435-0.1, 2 +0.05], [3.8, 5.5-0.6-0.1, 4.15]]);
  bx2 = BEZIER(S0)([[0.1, 5.5-0.435-0.1, 2 +0.05+delta], [3.8, 5.5-0.6-0.1, 4.15+delta]]);
  var s34_2 = BEZIER(S1)([bx1, bx2]);
  s34_2 = MAP(s34_2)(domain2D);

  bx1 = BEZIER(S0)([[3.8, 0.1+0.6, 4.15], [3.9, 0.1+0.61, 4.2], [4, 0.1+0.62, 4.15]]);
  bx2 = BEZIER(S0)([[3.8, 0.1+0.6, 4.15+delta], [3.9, 0.1+0.61, 4.2+delta], [4, 0.1+0.62, 4.15+delta]]);
  var s35_1 = BEZIER(S1)([bx1, bx2]);
  s35_1 = MAP(s35_1)(domain2D);

  bx1 = BEZIER(S0)([[3.8, 5.5-0.6-0.1, 4.15], [3.9, 5.5-0.61-0.1, 4.2], [4, 5.5-0.62-0.1, 4.15]]);
  bx2 = BEZIER(S0)([[3.8, 5.5-0.6-0.1, 4.15+delta], [3.9, 5.5-0.61-0.1, 4.2+delta], [4, 5.5-0.62-0.1, 4.15+delta]]);
  var s35_2 = BEZIER(S1)([bx1, bx2]);
  s35_2 = MAP(s35_2)(domain2D);

  bx1 = BEZIER(S0)([[4, 0.1+0.62, 4.15], [5.9, 0.1+0.82, 3.5], [6.8, 0.1+0.85, 3.1]]);
  bx2 = BEZIER(S0)([[4, 0.1+0.62, 4.15+delta], [5.9, 0.1+0.82, 3.5+delta], [6.8 +0.1, 0.1+0.85, 3.1+delta]]);
  var s36_1 = BEZIER(S1)([bx1, bx2]);
  s36_1 = MAP(s36_1)(domain2D);

  bx1 = BEZIER(S0)([[4, 5.5-0.62-0.1, 4.15], [5.9, 5.5-0.82-0.1, 3.5], [6.8, 5.5-0.85-0.1, 3.1]]);
  bx2 = BEZIER(S0)([[4, 5.5-0.62-0.1, 4.15+delta], [5.9, 5.5-0.82-0.1, 3.5+delta], [6.8 +0.1, 5.5-0.85-0.1, 3.1+delta]]);
  var s36_2 = BEZIER(S1)([bx1, bx2]);
  s36_2 = MAP(s36_2)(domain2D);

  //bordi2
  bx1 = BEZIER(S0)([[6.8, 0.1+0.85, 3.1], [6.8, 5.5-0.85-0.1, 3.1]]);
  bx2 = BEZIER(S0)([[6.8 +0.1, 0.1+0.85, 3.1+delta], [6.8 +0.1, 5.5-0.85-0.1, 3.1+delta]]);
  var s41 = BEZIER(S1)([bx1, bx2]);
  s41 = MAP(s41)(domain2D);

  bx1 = BEZIER(S0)([[-8.3, 0.1, 6.35],[-8.3, 5.5-0.1, 6.35]]);
  bx2 = BEZIER(S0)([[-8.3, 0.1, 6.35 +delta],[-8.3, 5.5-0.1, 6.35+delta]]);
  var s42 = BEZIER(S1)([bx1, bx2]);
  s42 = MAP(s42)(domain2D);

  var table_base = STRUCT([s11, s12, s13, s14, s15, s16, /*s17,*/
    s21, s22, s23, s24, s25, s26/*, s27*/,
    s31_1, s31_2, s32_1, s32_2, s33_1, s33_2, s34_1, s34_2, s35_1, s35_2, s36_1, s36_2,
    s41, s42])
  return COLOR(red)(table_base);
}

function circl (sel) {
  return function (r) {
    return function (altezza) {
      return function (p) {
        return [ r * COS(sel(p)), r * SIN(sel(p)), altezza ];
      };
    };
  };
};


function getPillow(){
  var domPI = INTERVALS(2*PI)(40);
  var pillow = getFullCylinder(1.2/2, 5.25, [64,4]);
  var stitching1 = MAP(circl(S0)(1/2)(0))(domPI);
  var stitching5 = MAP(circl(S0)(1.1/2)(0))(domPI);
  var stitching6 = MAP(circl(S0)(1.2/2)(0))(domPI);
  var stitching2 = MAP(circl(S0)(1/2)(5.25))(domPI);
  var stitching3 = MAP(circl(S0)(1.1/2)(5.25))(domPI);
  var stitching4 = MAP(circl(S0)(1.2/2)(5.25))(domPI);
  var stitchings = STRUCT([stitching1, stitching2, stitching3, stitching4, stitching5, stitching6]);
  stitchings = COLOR(red)(stitchings);
  stitchings = R([1,2])([PI/2])(stitchings);
  stitchings = T([0,1,2])([-5.8, 5.35, 7.25])(stitchings);
  pillow = R([1,2])([PI/2])(pillow);
  pillow = T([0,1,2])([-5.8, 5.35, 7.25])(pillow);
  pillow = COLOR([1.5, 1.5, 1.5])(pillow);
  return STRUCT([pillow, stitchings]);
}

//modello
var feet = STRUCT([getFeetFront(), getFeetBack()]);
var down_pipes = STRUCT([getTrasversalTubes(), getTubeFront(), getTubeBack(), getTrasversalPillars()]);
var upper_pipes = STRUCT([getOvalTrasversalPillars(), getUpperBackTubes(), getUpperFrontalTubes(), trasversalUpperTube_1(), trasversalUpperTube_2()]);
var table = getTable();
var pillow = getPillow();
var modelLC4 = STRUCT([feet, down_pipes, upper_pipes, table, pillow])
DRAW(modelLC4);


      }
        )
    </script>

</body>
</html>